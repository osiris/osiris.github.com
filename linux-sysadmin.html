<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es">
<head>
<title>Administrador de Sistemas GNU/Linux</title>
<!-- 2014-04-01 mar 18:40 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Osiris Alejandro Gómez" />
<link rel="stylesheet" href="osiux.css" type="text/css" /><link rel="stylesheet" href="print.css" type="text/css" media="print" />
</head>
<body>
<div id="content">
<h1 class="title">Administrador de Sistemas GNU/Linux</h1>
<div id="table-of-contents">
<h2>&Iacute;ndice</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Filosofía UNIX</a></li>
<li><a href="#sec-2">Linux por dentro, jerarquías de directorios</a></li>
<li><a href="#sec-3">Todo es un archivo, conociendo <code>/proc</code> y <code>/dev</code></a>
<ul>
<li><a href="#sec-3-1"><code>/proc</code></a>
<ul>
<li><a href="#sec-3-1-1"><code>/proc/partitions</code></a></li>
<li><a href="#sec-3-1-2"><code>/proc/uptime</code></a></li>
</ul>
</li>
<li><a href="#sec-3-2"><code>/dev</code></a>
<ul>
<li><a href="#sec-3-2-1"><code>/dev/null</code></a></li>
<li><a href="#sec-3-2-2"><code>/dev/sdX</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-4">Entrada estándar, Salida estándar y Tuberías</a>
<ul>
<li><a href="#sec-4-1">Descriptores de archivos</a></li>
<li><a href="#sec-4-2">Enviar la salida estándar a un archivo</a></li>
<li><a href="#sec-4-3">Enviar la salida de errores a un archivo</a></li>
<li><a href="#sec-4-4">Enviar la salida estándar y la salida de errores a un mismo archivo</a></li>
<li><a href="#sec-4-5">Enviar la salida de errores a la salida estándar</a></li>
<li><a href="#sec-4-6">Enviar la salida de estándar a <code>/dev/null</code></a></li>
<li><a href="#sec-4-7">Enviar la salida de estándar y la salida de errores a <code>/dev/null</code></a></li>
<li><a href="#sec-4-8">Enviar un archivo a la entrada estándar</a></li>
<li><a href="#sec-4-9">Enviar la salida estándar a un archivo y a la salida estándar</a></li>
<li><a href="#sec-4-10">Enviar la salida estándar de un comando como la entrada estándar de otro comando</a></li>
<li><a href="#sec-4-11"><code>stdout</code></a></li>
<li><a href="#sec-4-12"><code>stderr</code></a></li>
<li><a href="#sec-4-13">pipes</a></li>
</ul>
</li>
<li><a href="#sec-5">Comandos básicos de terminal</a>
<ul>
<li><a href="#sec-5-1">Directorios:</a>
<ul>
<li><a href="#sec-5-1-1">Moviéndose en el sistema de archivos:</a>
<ul>
<li><a href="#sec-5-1-1-1"><code>pwd</code></a></li>
<li><a href="#sec-5-1-1-2"><code>cd</code></a></li>
<li><a href="#sec-5-1-1-3"><code>cd /etc/php5</code></a></li>
<li><a href="#sec-5-1-1-4"><code>cd apache2</code></a></li>
<li><a href="#sec-5-1-1-5"><code>cd ..</code></a></li>
<li><a href="#sec-5-1-1-6"><code>cd $HOME</code></a></li>
<li><a href="#sec-5-1-1-7"><code>cd ~osiris</code></a></li>
</ul>
</li>
<li><a href="#sec-5-1-2">Listar directorios:</a>
<ul>
<li><a href="#sec-5-1-2-1"><code>ls -l</code></a></li>
<li><a href="#sec-5-1-2-2"><code>ls</code></a></li>
<li><a href="#sec-5-1-2-3"><code>ls -a</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-5-2">Cambiando permisos y atributos</a>
<ul>
<li><a href="#sec-5-2-1"><code>chmod 750 archivo</code></a></li>
<li><a href="#sec-5-2-2"><code>chgrp grupo archivo</code></a></li>
<li><a href="#sec-5-2-3"><code>chown usuario archivo</code></a></li>
<li><a href="#sec-5-2-4"><code>chown usuario archivo</code></a></li>
</ul>
</li>
<li><a href="#sec-5-3">Moviendo, renombrando y copiando archivos:o</a></li>
<li><a href="#sec-5-4">Ver y editar arhivos:</a>
<ul>
<li><a href="#sec-5-4-1"><code>cat</code></a></li>
<li><a href="#sec-5-4-2"><code>head</code></a></li>
<li><a href="#sec-5-4-3"><code>head -2</code></a></li>
<li><a href="#sec-5-4-4"><code>tail</code></a></li>
<li><a href="#sec-5-4-5"><code>sed</code></a></li>
</ul>
</li>
<li><a href="#sec-5-5">Expresiones regulares</a>
<ul>
<li><a href="#sec-5-5-1"><code>[a-z]</code> Minúsculas</a></li>
<li><a href="#sec-5-5-2"><code>[A-Z]</code> Mayúsculas</a></li>
<li><a href="#sec-5-5-3"><code>[0-9]</code> Números</a></li>
<li><a href="#sec-5-5-4"><code>[^..]</code> Patrón distinto</a></li>
<li><a href="#sec-5-5-5"><code>^</code> comienzo de línea</a></li>
<li><a href="#sec-5-5-6"><code>$</code> fin de línea</a></li>
<li><a href="#sec-5-5-7"><code>.</code> cualquier carácter</a></li>
<li><a href="#sec-5-5-8"><code>?</code> cero o una aparición</a></li>
<li><a href="#sec-5-5-9"><code>*</code> ninguna o muchas repeticiones</a></li>
<li><a href="#sec-5-5-10"><code>+</code> una o más repeticiones</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-6">Acceso remoto usando ssh</a>
<ul>
<li><a href="#sec-6-1">¿qué ventajas tiene?</a></li>
<li><a href="#sec-6-2">¿qué necesito para usar SSH?</a></li>
<li><a href="#sec-6-3">¿cómo me conecto por SSH?</a></li>
<li><a href="#sec-6-4">¿qué sucede la primera vez?</a></li>
<li><a href="#sec-6-5">Listo, entré a la matrix! ¿y ahora?</a></li>
<li><a href="#sec-6-6">El intruso va por la revancha!</a></li>
<li><a href="#sec-6-7">Eliminando al intruso!</a></li>
<li><a href="#sec-6-8">El intruso es duro de domar!</a></li>
<li><a href="#sec-6-9">¿Y ahora quién podrá defendernos?</a></li>
<li><a href="#sec-6-10">Controlando la matrix!</a></li>
</ul>
</li>
<li><a href="#sec-7">Entornos gráficos, ejecución remota de aplicaciones gráficas</a>
<ul>
<li><a href="#sec-7-1"><code>ssh -X</code></a></li>
<li><a href="#sec-7-2"><code>DISPLAY\</code>:0=</a></li>
<li><a href="#sec-7-3"><code>vnc4server</code></a></li>
</ul>
</li>
<li><a href="#sec-8">Procesos</a>
<ul>
<li><a href="#sec-8-1">¿Qué es proceso?</a></li>
<li><a href="#sec-8-2">¿Por qué?</a></li>
<li><a href="#sec-8-3">Lo que el usuario ve:</a></li>
<li><a href="#sec-8-4">Lo que el sistema ve:</a></li>
<li><a href="#sec-8-5"><code>PID</code></a></li>
<li><a href="#sec-8-6">Listar procesos</a></li>
<li><a href="#sec-8-7">Operaciones</a></li>
<li><a href="#sec-8-8">Jerarquía</a></li>
<li><a href="#sec-8-9">En tiempo real</a></li>
<li><a href="#sec-8-10">Resumen</a></li>
<li><a href="#sec-8-11">Changelog</a></li>
</ul>
</li>
<li><a href="#sec-9">Automatizando tareas: <code>sleep</code>, <code>jobs</code>, <code>crontab</code></a>
<ul>
<li><a href="#sec-9-1">Para mí, vos estás en segundo plano</a></li>
<li><a href="#sec-9-2">Sos tan lento&#x2026; que no te quiero ver</a></li>
<li><a href="#sec-9-3">Esta compu, se destruye en 5 minutos!</a></li>
<li><a href="#sec-9-4">Tengo un crontab para no olvidar nada</a></li>
<li><a href="#sec-9-5">Robotizando el mouse</a></li>
</ul>
</li>
</ul>
</div>
</div>


<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Filosofía UNIX</h2>
<div class="outline-text-2" id="text-1">
<p>
<i>UNIX</i> incorpora un conjunto de herramientas que guardan cierta
analogía con una navaja multiusos. Son simples, pero hacen muy bien
su trabajo. En lugar de construir programas muy complejos, <i>UNIX</i>
proporcionaba muchas pequeñas herramientas, y un esquema para poder
combinarlas de forma efectiva. Este diseño escala muy bien,
permitiendo al sistema crecer, incorporar nuevas herramientas y, a la
vez, ser compatible hacia atrás.
</p>

<p>
Los objetivos con que se creó determinaron una <i>filosofía</i> de <i>UNIX</i>
caracterizada por:
</p>

<ul class="org-ul">
<li>comandos cortos, simples, específicos y muy eficientes, que "hacen
una sola cosa pero la hacen muy bien".
</li>

<li>entrada y salida estandarizadas que permiten la interconexión de
comandos. Esto se llama entubamiento (<i>pipelining</i>): la salida de
un comando es tomada por el siguiente como entrada.
</li>
</ul>

<p>
Algunas directivas son:
</p>

<ul class="org-ul">
<li>Escribe programas que hagan una sola cosa y la hagan bien: esto
quiere decir que los programas deben de ser lo más atómicos posible
y que se compruebe mucho su rendimiento y funcionamiento para
hacerlo lo mejor posible.
</li>

<li>Escribe programas que trabajen juntos: de nada sirve escribir
programas que sirvan para una tarea específica y que, después,
cuando esa tarea se modifique de cierta forma, haya que reescribir
todo el programa.
</li>

<li>Es mejor dividir el problema en varios programas y después desechar
o reescribir solo uno de esos pequeños programas, cuando se
necesite, o incluso hacer nuevos.
</li>

<li>Escribe programas que manejen flujos de texto, pues esa es la
interfaz universal: todo lo que se hace con entrada y salida en
formato textual es más fácil de enlazar con otros programas, así
como reutilizarla en el pasado, presente y futuro.
</li>
</ul>

<p>
En estos conceptos se basa la mayoría del software libre existente,
por lo que servidores como <code>sendmail</code> o <code>postfix</code>, están diseñados en
pequeños servidores y/o programas que hacen partes de todo un proceso
y, mediante sus ficheros de configuración, se pueden enlazar de una u
otra forma, así como usar otros programas y/o servidores en lugar de
los que vienen por defecto y, así, extender su funcionalidad.
</p>

<p>
Sobre <i>filosofía Unix</i>, de una forma más extensa, <i>Mike Gancarz</i>,
escribe las siguientes líneas:
</p>

<ul class="org-ul">
<li>Lo pequeño es hermoso.
</li>
<li>Haz que cada programa haga una sola cosa, pero que la haga bien.
</li>
<li>Construye un prototipo lo antes posible.
</li>
<li>Elige portabilidad sobre eficiencia.
</li>
<li>Guarda los datos en archivos de texto plano.
</li>
<li>Aprovecha funcionalidades del software.
</li>
<li>Usa <i>scripts</i> de <i>shell</i> para aumentar la funcionalidad y portabilidad.
</li>
<li>Evita interfaces de usuario captivas.
</li>
<li>Haz de cada programa un filtro.
</li>
</ul>

<p>
La <i>filosofía UNIX</i> supone crear programas rápidos, simples, con poca
intervención por parte del usuario, o en caso de necesitarla, esta se
produzca al principio o lo más mínima posible. Esta se acopla
perfectamente a las necesidades de computación de los laboratorios
científicos, puesto que <i>Unix</i> fue originalmente desarrollado en uno de
estos.
</p>

<p>
A continuación algunas premisas:
</p>

<ul class="org-ul">
<li>Que cada programa realice únicamente la tarea para la que fue
creado y la haga bien.
</li>
<li>Para llevar a cabo una nueva tarea escribe un programa nuevo. No
compliques uno viejo añadiendo nueva funcionalidad.
</li>
<li>Escribe tu programa teniendo en cuenta que su salida probablemente
sea la entrada de otro programa.
</li>
<li>Guarda los datos en archivos de texto plano. Si necesitas
seguridad, confía en los permisos.
</li>
<li>Usa nombres cortos y en minúscula.
</li>
<li>En la manera de lo posible haz que el usuario suministre los datos
por línea de comandos en la llamada.
</li>
<li>Haz partes simples conectadas mediante interfaces limpias y bien
definidas.
</li>
<li>Céntrate en los datos.
</li>
<li>Claridad mejor que complejidad. La solución más simple es
frecuentemente la mejor.
</li>
<li>Portabilidad mejor que eficiencia.
</li>
<li>Piensa en paralelo. Hay otros procesos en el mundo, incluso
instancias de tu mismo programa funcionando al mismo tiempo.
</li>
<li>Hacer programas grandes, solo cuando se demuestre que no se puede
realizar con uno pequeño.
</li>
<li>Si no hay nada interesante que decir, que el programa mejor no diga
nada.
</li>
<li>Para cada problema existen múltiples soluciones.
</li>
<li>Diseña pensando en el futuro (esta cercano). Esto nos ofrece
compatibilidad y mayor tiempo de utilización.
</li>
<li>Programa de abajo hacia arriba y de conocimiento pragmático.
</li>
<li>Programa basado en el conocimiento Empírico o Experiencia.
</li>
<li>No se encuentra en los métodos y las normas oficiales, sino en el
medio-reflexivo implícito, el conocimiento.
</li>
</ul>

<p>
En resumidas cuentas la <i>filosofía Unix</i> se puede describir como bien
lo dice <i>Doug Mcllroy</i>:
</p>

<p>
"Escribe programas que hagan una cosa y la hagan bien, que trabajen
en armonía con otros y que manejen flujos de texto, pues esta es una
interfaz universal." - <i>Doug Mcllroy</i>
</p>

<p>
"Aquellos que no pueden entender UNIX, están condenados a
reinventarlo, pobremente." - <i>Henry Spencer</i>, 1987
</p>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Linux por dentro, jerarquías de directorios</h2>
<div class="outline-text-2" id="text-2">
<pre class="example">
/
+-- bin         binarios
+-- boot        inicio del sistema, imágenes del kernel
+-- dev         dispositivos, presentes y futuros
+-- etc         configuraciones
+-- home        directorios personales de los usuarios
+-- lib         bibliotecas
+-- lost+found  archivos y/o cadenas perdidas
+-- media       dispositivos extraerles
+-- mnt         dispositivos montados
+-- opt         binarios fuera de la distro
+-- proc        procesos en ejecución
+-- root        directorio personal del /root/
+-- run         archivos de procesos en ejecución
+-- sbin        binarios del sistema
+-- selinux     secure linux
+-- srv         servicios ej: ftp
+-- sys         system
+-- tmp         temporales
+-- usr         archivos compartidos
+-- var         archivos que varían de tamaño, ej: logs
</pre>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Todo es un archivo, conociendo <code>/proc</code> y <code>/dev</code></h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><code>/proc</code></h3>
<div class="outline-text-3" id="text-3-1">
<p>
Es un pseudo-sistema de ficheros que se usa como interfaz para las
estructuras de datos del núcleo en lugar de leer e interpretar
/dev/kmem. La mayor parte de este sistema de ficheros es de sólo
lectura, pero algunos ficheros permiten cambiar variables del
núcleo.
</p>
</div>

<div id="outline-container-sec-3-1-1" class="outline-4">
<h4 id="sec-3-1-1"><code>/proc/partitions</code></h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
Podemos ver las particiones que leyó el <i>kernel</i>:
</p>

<div class="org-src-container">

<pre class="src src-sh">cat /proc/partitions
</pre>
</div>

<pre class="example">
major minor  #blocks  name

   8        0  488386584 sda
   8        1   52428800 sda1
   8        2   52428800 sda2
   8        3  383527960 sda3
  11        0    1048575 sr0
 254        0  383525912 dm-0
</pre>
</div>
</div>
<div id="outline-container-sec-3-1-2" class="outline-4">
<h4 id="sec-3-1-2"><code>/proc/uptime</code></h4>
<div class="outline-text-4" id="text-3-1-2">
<p>
El <code>uptime</code> de nuestro equipo puede ser consultado directamente en
<code>/proc/uptime</code>,
</p>

<div class="org-src-container">

<pre class="src src-sh">cat /proc/uptime
</pre>
</div>

<pre class="example">
1901728.32 3010323.20
</pre>

<p>
Si utilizamos el comando <code>uptime</code>, éste lee el valor expresado en
<b>epoc</b> (segundos que pasaron desde el 01/01/1970) y nos informa
hace cuántos días y horas nuestro servidor está prendido, además
de informar otros valores, como la cantidad de usuarios y el
<b>average</b>:
</p>

<div class="org-src-container">

<pre class="src src-sh">uptime
</pre>
</div>

<pre class="example">
10:53:05 up 22 days, 15 min,  6 users,  load average: 1,63, 1,70, 1,58
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2"><code>/dev</code></h3>
<div class="outline-text-3" id="text-3-2">
<p>
Aquí se encuentran todos los dispositivos del sistema, presentes y
futuros.
</p>
</div>

<div id="outline-container-sec-3-2-1" class="outline-4">
<h4 id="sec-3-2-1"><code>/dev/null</code></h4>
<div class="outline-text-4" id="text-3-2-1">
<p>
Este dispositivo es muy especial y sumamente útil, es un agujero
negro, todo lo que se envía a <code>/dev/null</code> desaparece
</p>

<div class="org-src-container">

<pre class="src src-sh">ls -lh /dev/null
</pre>
</div>

<pre class="example">
crw-rw-rw- 1 root root 1, 3 ene 20 10:37 /dev/null
</pre>

<p>
Si enviamos algo y luego miramos con un <code>ls</code> no vemos que se
incremente el tamaño del archivo:
</p>

<div class="org-src-container">

<pre class="src src-sh"><span style="color: #729fcf;">echo</span> <span style="color: #ad7fa8; font-style: italic;">"hola"</span> &gt;/dev/null
ls -lh /dev/null
</pre>
</div>

<pre class="example">
crw-rw-rw- 1 root root 1, 3 ene 20 10:37 /dev/null
</pre>
</div>
</div>
<div id="outline-container-sec-3-2-2" class="outline-4">
<h4 id="sec-3-2-2"><code>/dev/sdX</code></h4>
<div class="outline-text-4" id="text-3-2-2">
<p>
Los discos están identificados con el prefijo <code>sd</code>, luego una letra
<code>a</code>, <code>b</code>, <code>c</code>, etc y finalmente un número <code>1</code>, <code>2</code>, <code>3</code>, etc que
identifica la partición:
</p>

<p>
Listamos el disco <code>sda</code>
</p>

<div class="org-src-container">

<pre class="src src-sh">ls /dev/sda*
</pre>
</div>

<pre class="example">
/dev/sda
/dev/sda1
/dev/sda2
/dev/sda3
</pre>

<p>
Vemos si esta montado <code>sda</code>:
</p>

<div class="org-src-container">

<pre class="src src-sh">mount | grep sda
</pre>
</div>

<pre class="example">
/dev/sda1 on /mnt/sda1 type ext4 (rw,relatime,user_xattr,barrier=1,data=ordered)
</pre>

<p>
Visualizamos el espacio disponible:
</p>

<div class="org-src-container">

<pre class="src src-sh">df -h | grep sda
</pre>
</div>

<pre class="example">
/dev/sda1                                                 50G    14G   34G  29% /mnt/sda1
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">Entrada estándar, Salida estándar y Tuberías</h2>
<div class="outline-text-2" id="text-4">
</div><div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1">Descriptores de archivos</h3>
<div class="outline-text-3" id="text-4-1">
<p>
Existen 3 descriptores básicos de archivos:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left"><code>0</code></td>
<td class="left"><code>stdin</code></td>
<td class="left">entrada estándar</td>
</tr>

<tr>
<td class="left"><code>1</code></td>
<td class="left"><code>stdout</code></td>
<td class="left">salida estándar</td>
</tr>

<tr>
<td class="left"><code>2</code></td>
<td class="left"><code>stderr</code></td>
<td class="left">salida de errores</td>
</tr>
</tbody>
</table>

<p>
Es posible redireccionar cada uno de éstos descriptores mediante los
operadores <code>&gt;</code>, <code>&lt;</code> y <code>|</code>
</p>
</div>
</div>
<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2">Enviar la salida estándar a un archivo</h3>
<div class="outline-text-3" id="text-4-2">

<div class="figure">
<p><img src="img/stdout-file.png" alt="stdout-file.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-3" class="outline-3">
<h3 id="sec-4-3">Enviar la salida de errores a un archivo</h3>
<div class="outline-text-3" id="text-4-3">

<div class="figure">
<p><img src="img/stderr-file.png" alt="stderr-file.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-4" class="outline-3">
<h3 id="sec-4-4">Enviar la salida estándar y la salida de errores a un mismo archivo</h3>
<div class="outline-text-3" id="text-4-4">

<div class="figure">
<p><img src="img/stderr-stdout-file.png" alt="stderr-stdout-file.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-5" class="outline-3">
<h3 id="sec-4-5">Enviar la salida de errores a la salida estándar</h3>
<div class="outline-text-3" id="text-4-5">

<div class="figure">
<p><img src="img/stderr-stdout.png" alt="stderr-stdout.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-6" class="outline-3">
<h3 id="sec-4-6">Enviar la salida de estándar a <code>/dev/null</code></h3>
<div class="outline-text-3" id="text-4-6">

<div class="figure">
<p><img src="img/stdout-dev-null.png" alt="stdout-dev-null.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-7" class="outline-3">
<h3 id="sec-4-7">Enviar la salida de estándar y la salida de errores a <code>/dev/null</code></h3>
<div class="outline-text-3" id="text-4-7">

<div class="figure">
<p><img src="img/stderr-stdout-dev-null.png" alt="stderr-stdout-dev-null.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-8" class="outline-3">
<h3 id="sec-4-8">Enviar un archivo a la entrada estándar</h3>
<div class="outline-text-3" id="text-4-8">

<div class="figure">
<p><img src="img/stdin-file.png" alt="stdin-file.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-9" class="outline-3">
<h3 id="sec-4-9">Enviar la salida estándar a un archivo y a la salida estándar</h3>
<div class="outline-text-3" id="text-4-9">

<div class="figure">
<p><img src="img/tee-stdout-file.png" alt="tee-stdout-file.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-10" class="outline-3">
<h3 id="sec-4-10">Enviar la salida estándar de un comando como la entrada estándar de otro comando</h3>
<div class="outline-text-3" id="text-4-10">

<div class="figure">
<p><img src="img/stdout-pipe-stdin.png" alt="stdout-pipe-stdin.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-11" class="outline-3">
<h3 id="sec-4-11"><code>stdout</code></h3>
<div class="outline-text-3" id="text-4-11">
<p>
Buscar el texto <b>model</b> en el archivo <code>/proc/cpuinfo</code> y enviar el
resultado a un nuevo archivo llamado <code>/tmp/cpu</code> que contendrá
únicamente las líneas que coinciden con el texto <b>model</b>:
</p>

<div class="org-src-container">

<pre class="src src-sh">grep model /proc/cpuinfo &gt; /tmp/cpu
cat /tmp/cpu
</pre>
</div>

<pre class="example">
model       : 28
model name  : Intel(R) Atom(TM) CPU D425   @ 1.80GHz
model       : 28
model name  : Intel(R) Atom(TM) CPU D425   @ 1.80GHz
</pre>

<p>
Buscar el texto <b>cache</b> en el archivo <code>/proc/cpuinfo</code> y agregar el
resultado al archivo <code>/tmp/cpu</code>
</p>

<div class="org-src-container">

<pre class="src src-sh">grep cache /proc/cpuinfo &gt;&gt; /tmp/cpu
cat /tmp/cpu
</pre>
</div>

<pre class="example">
model       : 28
model name  : Intel(R) Atom(TM) CPU D425   @ 1.80GHz
model       : 28
model name  : Intel(R) Atom(TM) CPU D425   @ 1.80GHz
cache size  : 512 KB
cache_alignment : 64
cache size  : 512 KB
cache_alignment : 64
</pre>
</div>
</div>
<div id="outline-container-sec-4-12" class="outline-3">
<h3 id="sec-4-12"><code>stderr</code></h3>
<div class="outline-text-3" id="text-4-12">
<p>
Enviar la salida con errores a <code>/dev/null</code>:
</p>

<pre class="example">
xkcd 2&gt;/dev/null
</pre>

<p>
Redireccionar la salida con errores a la salida estandar:
</p>

<pre class="example">
echo "xkcd" | grep 2&gt;&amp;1
</pre>
</div>
</div>
<div id="outline-container-sec-4-13" class="outline-3">
<h3 id="sec-4-13">pipes</h3>
<div class="outline-text-3" id="text-4-13">
<p>
El símbolo <code>|</code> es usado para redireccionar la salida de un comando
a la entrada de otro comando.
</p>

<p>
Ejemplo:
</p>

<p>
Lista el directorio <code>/var/log</code> ordenando los archivos más nuevos
al principio y muestra sólo las primeras 10 líneas mediante el
comando <code>head</code>
</p>

<div class="org-src-container">

<pre class="src src-sh">ls -lht /var/log | head
</pre>
</div>

<pre class="example">
total 14M
-rw-rw-r-- 1 root              utmp       107K feb 10 20:46 wtmp
-rw-r----- 1 root              adm        769K feb 10 20:45 mail.info
-rw-r----- 1 root              adm        769K feb 10 20:45 mail.log
-rw-r----- 1 root              adm        356K feb 10 20:45 syslog
-rw-r----- 1 root              adm        337K feb 10 20:45 auth.log
-rw-r----- 1 root              adm        3,1K feb 10 19:49 messages
-rw-r----- 1 root              adm        2,9K feb 10 19:49 kern.log
-rw-r--r-- 1 root              root        29K feb 10 16:42 Xorg.0.log
-rw-r----- 1 root              adm        1,9K feb 10 16:42 daemon.log
</pre>

<p>
lista el directorio <code>/var/log</code> mostrando el tamaño de cada
archivo, se filtra el resultando por Megabytes (<code>M</code>), luego
ordena de mayor a menor y finalmente limita la lista a los
primeros 10 archivos que más espacio ocupan, incluyendo el total
del directorio:
</p>

<div class="org-src-container">

<pre class="src src-sh"><span style="color: #729fcf;">cd</span> /var/log;du -ch *  | grep M | sort -nr | head
</pre>
</div>

<pre class="example">
496M    total
468M    atop
15M installer
14M installer/cdebconf
3,3M    mail.log.1
3,3M    mail.info.1
1,5M    auth.log.1
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5">Comandos básicos de terminal</h2>
<div class="outline-text-2" id="text-5">
</div><div id="outline-container-sec-5-1" class="outline-3">
<h3 id="sec-5-1">Directorios:</h3>
<div class="outline-text-3" id="text-5-1">
<p>
El separador de archivos y directorios es la barra <code>/</code>
</p>

<p>
ejemplos:
</p>

<pre class="example">
/              directorio raíz (*root*)
/etc           directorio usr (sub-directorio de la raíz =/=)
/etc/apache2   apache2 subdirectorio de /etc
</pre>
</div>

<div id="outline-container-sec-5-1-1" class="outline-4">
<h4 id="sec-5-1-1">Moviéndose en el sistema de archivos:</h4>
<div class="outline-text-4" id="text-5-1-1">
</div><div id="outline-container-sec-5-1-1-1" class="outline-5">
<h5 id="sec-5-1-1-1"><code>pwd</code></h5>
<div class="outline-text-5" id="text-5-1-1-1">
<p>
Muestra el directorio actual.
</p>
</div>
</div>
<div id="outline-container-sec-5-1-1-2" class="outline-5">
<h5 id="sec-5-1-1-2"><code>cd</code></h5>
<div class="outline-text-5" id="text-5-1-1-2">
<p>
Cambia al directorio definido en <code>HOME</code>
</p>
</div>
</div>
<div id="outline-container-sec-5-1-1-3" class="outline-5">
<h5 id="sec-5-1-1-3"><code>cd /etc/php5</code></h5>
<div class="outline-text-5" id="text-5-1-1-3">
<p>
Cambia el directorio actual a <code>/etc/php5</code>
</p>
</div>
</div>
<div id="outline-container-sec-5-1-1-4" class="outline-5">
<h5 id="sec-5-1-1-4"><code>cd apache2</code></h5>
<div class="outline-text-5" id="text-5-1-1-4">
<p>
Cambia al subdirectorio <code>apache2</code> del directorio actual
</p>
</div>
</div>
<div id="outline-container-sec-5-1-1-5" class="outline-5">
<h5 id="sec-5-1-1-5"><code>cd ..</code></h5>
<div class="outline-text-5" id="text-5-1-1-5">
<p>
Cambia al directorio inmediato superior
</p>
</div>
</div>
<div id="outline-container-sec-5-1-1-6" class="outline-5">
<h5 id="sec-5-1-1-6"><code>cd $HOME</code></h5>
<div class="outline-text-5" id="text-5-1-1-6">
<p>
Cambia al directorio definido en la variable <code>HOME</code>
</p>
</div>
</div>
<div id="outline-container-sec-5-1-1-7" class="outline-5">
<h5 id="sec-5-1-1-7"><code>cd ~osiris</code></h5>
<div class="outline-text-5" id="text-5-1-1-7">
<p>
Cambia al directorio del usuario osiris
</p>
</div>
</div>
</div>
<div id="outline-container-sec-5-1-2" class="outline-4">
<h4 id="sec-5-1-2">Listar directorios:</h4>
<div class="outline-text-4" id="text-5-1-2">
</div><div id="outline-container-sec-5-1-2-1" class="outline-5">
<h5 id="sec-5-1-2-1"><code>ls -l</code></h5>
<div class="outline-text-5" id="text-5-1-2-1">
<p>
Listar en formato ancho, de esta manera se visualizan gran parte de
los atributos de cada archivo y/o directorio
</p>

<pre class="example">
$ ls -l

-rw-rw-r-- 1 osiris www-data      612 nov  1 19:29 redes.html
-rw-rw-r-- 1 osiris www-data    11457 nov  1 19:31 scrum.html
-rw-rw-r-- 1 osiris www-data     6556 abr 24  2013 ssh.org
-rw-rw-r-- 1 osiris www-data      609 abr 24  2013 graphviz.org
-rw-rw-r-- 1 osiris www-data    17326 abr 24  2013 gnuplot.org
-rw-rw-r-- 1 osiris www-data    11457 nov  1 19:31 tmp
^ ^  ^  ^  ^ ^           ^          ^ ^      ^     ^
| |  |  |  | |           |          | |      |     |
| |  |  |  | propietario grupo tamaño fecha  hora  nombre
| |  |  |  número de links al archivo o contenido del directorio
| |  |  permisos para todos
| |  permisos para miembros del grupo
| permisos para el propietario del archivo:
|   r     lectura
|   w     escritura
|   x     ejecutar
|   -     ninguno
tipo de archivo:
  -   archivo normal
  d   directorio
  l   enlace simbolico
</pre>
</div>
</div>
<div id="outline-container-sec-5-1-2-2" class="outline-5">
<h5 id="sec-5-1-2-2"><code>ls</code></h5>
<div class="outline-text-5" id="text-5-1-2-2">
<p>
Listar directorio actual
</p>
</div>
</div>
<div id="outline-container-sec-5-1-2-3" class="outline-5">
<h5 id="sec-5-1-2-3"><code>ls -a</code></h5>
<div class="outline-text-5" id="text-5-1-2-3">
<p>
Listar directorio actual incluyendo archivos ocultos (comienzan con
<code>.</code>)
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-5-2" class="outline-3">
<h3 id="sec-5-2">Cambiando permisos y atributos</h3>
<div class="outline-text-3" id="text-5-2">
<pre class="example">
r = read        4
w = write       2
x = execute     1

propietario   7 = rwx lectura, escritura y ejecución
grupo         5 = rx- lectura y ejecución
todos         0 = --- ningún permiso
</pre>

<p>
Es necesario ser el propietario del archivo/directorio (o <i>root</i>)
para realizar el cambio de <code>usuario</code> o <code>grupo</code>.
</p>
</div>

<div id="outline-container-sec-5-2-1" class="outline-4">
<h4 id="sec-5-2-1"><code>chmod 750 archivo</code></h4>
<div class="outline-text-4" id="text-5-2-1">
<p>
Listamos los permisos del archivo <code>~/.bash_history</code>
</p>

<div class="org-src-container">

<pre class="src src-sh">ls -l ~/.bash_history
</pre>
</div>

<pre class="example">
-rwxr-x--- 1 osiris osiris 326316 feb 10 21:55 /home/osiris/.bash_history
</pre>

<p>
Cambiamos el permiso a <code>750</code> y volvemos a listar:
</p>

<div class="org-src-container">

<pre class="src src-sh">chmod 750 ~/.bash_history
ls -l ~/.bash_history
</pre>
</div>

<pre class="example">
-rwxr-x--- 1 osiris osiris 326316 feb 10 21:55 /home/osiris/.bash_history
</pre>

<p>
Finalmente cambiamos el permiso a <code>600</code> y volvemos a listar:
</p>

<div class="org-src-container">

<pre class="src src-sh">chmod 600 ~/.bash_history
ls -l ~/.bash_history
</pre>
</div>

<pre class="example">
-rw------- 1 osiris osiris 326316 feb 10 21:55 /home/osiris/.bash_history
</pre>
</div>
</div>
<div id="outline-container-sec-5-2-2" class="outline-4">
<h4 id="sec-5-2-2"><code>chgrp grupo archivo</code></h4>
<div class="outline-text-4" id="text-5-2-2">
<p>
Establece el grupo al archivo
</p>
</div>
</div>
<div id="outline-container-sec-5-2-3" class="outline-4">
<h4 id="sec-5-2-3"><code>chown usuario archivo</code></h4>
<div class="outline-text-4" id="text-5-2-3">
<p>
Establece el usuario como propietario del archivo
</p>
</div>
</div>
<div id="outline-container-sec-5-2-4" class="outline-4">
<h4 id="sec-5-2-4"><code>chown usuario archivo</code></h4>
<div class="outline-text-4" id="text-5-2-4">
<p>
Establece el usuario como propietario del directorio y todo su contenido recursivamente.
</p>
</div>
</div>
</div>
<div id="outline-container-sec-5-3" class="outline-3">
<h3 id="sec-5-3">Moviendo, renombrando y copiando archivos:o</h3>
<div class="outline-text-3" id="text-5-3">
<p>
Copiamos el archivo <code>~/.bash_history</code> a <code>~/.bash_history.bak</code> y
verificamos que sea igual:
</p>

<div class="org-src-container">

<pre class="src src-sh">ls -lh ~/.bash_history
cp ~/.bash_history ~/.bash_history.bak
ls -lh ~/.bash_history.bak
md5sum ~/.bash_history ~/.bash_history.bak
</pre>
</div>

<pre class="example">
-rw------- 1 osiris osiris 310K feb 11 11:07 /home/osiris/.bash_history
-rw------- 1 osiris osiris 310K feb 11 11:07 /home/osiris/.bash_history
7b862a967fc7096882583f9a6f662230  /home/osiris/.bash_history
7b862a967fc7096882583f9a6f662230  /home/osiris/.bash_history.bak
</pre>

<p>
#+END_SRC
</p>

<p>
Movemos el archivo <code>~/.bash_history.bak</code> a <code>~/historial.bak</code>:
</p>

<div class="org-src-container">

<pre class="src src-sh">mv -vi ~/.bash_history.bak ~/historial.bak
ls -l ~/.bash_history ~/historial.bak
</pre>
</div>

<pre class="example">
«/home/osiris/.bash_history.bak» -&gt; «/home/osiris/historial.bak»
-rw------- 1 osiris osiris   316801 feb 11 11:07 /home/osiris/.bash_history
-rw------- 1 osiris www-data 316801 feb 11 11:13 /home/osiris/historial.bak
</pre>


<p>
Renombramos el archivo <code>~/historial.bak</code> a <code>~/historial.log</code>
</p>

<div class="org-src-container">

<pre class="src src-sh">mv -vi ~/historial.bak ~/historial.log
ls -l ~/historial.log
</pre>
</div>

<pre class="example">
«/home/osiris/historial.bak» -&gt; «/home/osiris/historial.log»
-rw------- 1 osiris www-data 316801 feb 11 11:13 /home/osiris/historial.log
</pre>
</div>
</div>
<div id="outline-container-sec-5-4" class="outline-3">
<h3 id="sec-5-4">Ver y editar arhivos:</h3>
<div class="outline-text-3" id="text-5-4">
</div><div id="outline-container-sec-5-4-1" class="outline-4">
<h4 id="sec-5-4-1"><code>cat</code></h4>
<div class="outline-text-4" id="text-5-4-1">
<div class="org-src-container">

<pre class="src src-sh">cat /etc/issue
</pre>
</div>

<pre class="example">
Debian GNU/Linux 7.0 \n \l
</pre>
</div>
</div>
<div id="outline-container-sec-5-4-2" class="outline-4">
<h4 id="sec-5-4-2"><code>head</code></h4>
<div class="outline-text-4" id="text-5-4-2">
<div class="org-src-container">

<pre class="src src-sh">head /proc/meminfo | head
</pre>
</div>

<pre class="example">
MemTotal:        2062464 kB
MemFree:          872100 kB
Buffers:           56052 kB
Cached:           642468 kB
SwapCached:        10928 kB
Active:           520204 kB
Inactive:         570096 kB
Active(anon):     366124 kB
Inactive(anon):   211844 kB
Active(file):     154080 kB
</pre>
</div>
</div>
<div id="outline-container-sec-5-4-3" class="outline-4">
<h4 id="sec-5-4-3"><code>head -2</code></h4>
<div class="outline-text-4" id="text-5-4-3">
<div class="org-src-container">

<pre class="src src-sh">head /proc/meminfo | head -2
</pre>
</div>

<pre class="example">
MemTotal:        2062464 kB
MemFree:          871860 kB
</pre>
</div>
</div>
<div id="outline-container-sec-5-4-4" class="outline-4">
<h4 id="sec-5-4-4"><code>tail</code></h4>
<div class="outline-text-4" id="text-5-4-4">
<div class="org-src-container">

<pre class="src src-sh">tail /etc/passwd
</pre>
</div>

<pre class="example">
hplip:x:106:7:HPLIP system user,,,:/var/run/hplip:/bin/false
pulse:x:107:114:PulseAudio daemon,,,:/var/run/pulse:/bin/false
saned:x:108:118::/home/saned:/bin/false
Debian-gdm:x:109:119:Gnome Display Manager:/var/lib/gdm3:/bin/false
alumno:x:1001:1000:alumno,,,:/home/alumno:/bin/bash
osiris:x:2222:33:OSiRiS,,,:/home/osiris:/bin/bash
sshd:x:110:65534::/var/run/sshd:/usr/sbin/nologin
postfix:x:111:120::/var/spool/postfix:/bin/false
rodrigo:x:1002:1001:Rodrigo Fernandez,,,:/mnt/data/musica:/bin/bash
davfs2:x:112:122::/var/cache/davfs2:/bin/false
</pre>

<div class="org-src-container">

<pre class="src src-sh">tail -2 /etc/passwd
</pre>
</div>

<pre class="example">
rodrigo:x:1002:1001:Rodrigo Fernandez,,,:/mnt/data/musica:/bin/bash
davfs2:x:112:122::/var/cache/davfs2:/bin/false
</pre>
</div>
</div>
<div id="outline-container-sec-5-4-5" class="outline-4">
<h4 id="sec-5-4-5"><code>sed</code></h4>
<div class="outline-text-4" id="text-5-4-5">
<div class="org-src-container">

<pre class="src src-sh">cat /etc/issue
sed s/<span style="color: #ad7fa8; font-style: italic;">"7.0"</span>/<span style="color: #ad7fa8; font-style: italic;">"8.0"</span>/g /etc/issue
cat /etc/issue
</pre>
</div>

<pre class="example">
Debian GNU/Linux 7.0 \n \l

Debian GNU/Linux 8.0 \n \l

Debian GNU/Linux 7.0 \n \l
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-5-5" class="outline-3">
<h3 id="sec-5-5">Expresiones regulares</h3>
<div class="outline-text-3" id="text-5-5">
<p>
Se utilizan para definir patrones para la búsqueda y filtrado:
</p>
</div>

<div id="outline-container-sec-5-5-1" class="outline-4">
<h4 id="sec-5-5-1"><code>[a-z]</code> Minúsculas</h4>
<div class="outline-text-4" id="text-5-5-1">
<p>
Rango de la <b>a</b> a la <b>z</b>
</p>
</div>
</div>
<div id="outline-container-sec-5-5-2" class="outline-4">
<h4 id="sec-5-5-2"><code>[A-Z]</code> Mayúsculas</h4>
<div class="outline-text-4" id="text-5-5-2">
<p>
Rango de la <b>A</b> a la <b>Z</b>
</p>
</div>
</div>
<div id="outline-container-sec-5-5-3" class="outline-4">
<h4 id="sec-5-5-3"><code>[0-9]</code> Números</h4>
<div class="outline-text-4" id="text-5-5-3">
<p>
Rango de 0 a 9
</p>
</div>
</div>
<div id="outline-container-sec-5-5-4" class="outline-4">
<h4 id="sec-5-5-4"><code>[^..]</code> Patrón distinto</h4>
<div class="outline-text-4" id="text-5-5-4">
<p>
Negación
</p>
</div>
</div>
<div id="outline-container-sec-5-5-5" class="outline-4">
<h4 id="sec-5-5-5"><code>^</code> comienzo de línea</h4>
</div>


<div id="outline-container-sec-5-5-6" class="outline-4">
<h4 id="sec-5-5-6"><code>$</code> fin de línea</h4>
</div>

<div id="outline-container-sec-5-5-7" class="outline-4">
<h4 id="sec-5-5-7"><code>.</code> cualquier carácter</h4>
</div>

<div id="outline-container-sec-5-5-8" class="outline-4">
<h4 id="sec-5-5-8"><code>?</code> cero o una aparición</h4>
</div>

<div id="outline-container-sec-5-5-9" class="outline-4">
<h4 id="sec-5-5-9"><code>*</code> ninguna o muchas repeticiones</h4>
</div>

<div id="outline-container-sec-5-5-10" class="outline-4">
<h4 id="sec-5-5-10"><code>+</code> una o más repeticiones</h4>
</div>
</div>
</div>
<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6">Acceso remoto usando ssh</h2>
<div class="outline-text-2" id="text-6">
<p>
<code>ssh</code> permite la ejecución remota de un intérprete de comandos
como <code>bash</code>
</p>

<ul class="org-ul">
<li>Más información en: <a href="https://es.wikipedia.org/wiki/Ssh">https://es.wikipedia.org/wiki/Ssh</a>
</li>
</ul>
</div>

<div id="outline-container-sec-6-1" class="outline-3">
<h3 id="sec-6-1">¿qué ventajas tiene?</h3>
<div class="outline-text-3" id="text-6-1">
<ul class="org-ul">
<li><b>Es seguro</b> porque cifra la conexión y nadie puede ver qué
estamos haciendo
</li>
<li><b>Es rápido</b> porque sólo envía texto, por ello envía menos datos
que si fuera una imagen de pantalla como programas como <code>vnc</code>
</li>
<li><b>Es versátil</b> porque permite interactuar con otros comandos
obteniendo control total de un sistema de manera remota.
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-6-2" class="outline-3">
<h3 id="sec-6-2">¿qué necesito para usar SSH?</h3>
<div class="outline-text-3" id="text-6-2">
<ul class="org-ul">
<li><i>computadora remota</i>
<ul class="org-ul">
<li><b>servidor SSH</b>
<ul class="org-ul">
<li>se instala haciendo:
</li>
</ul>
</li>
</ul>
<pre class="example">
sudo apt-get install openssh-server
</pre>
<ul class="org-ul">
<li><b>conexión a la red</b> (si es internet mejor!)
</li>
<li><b>puerto 22 abierto</b> (OjO con el firewall)
</li>
<li>que la computadora esté encendida! (aunque más adelante
veremos cómo encender remotamente una computadora)
</li>
</ul>
</li>
<li><i>computadora local</i>
<ul class="org-ul">
<li><b>cliente ssh</b>
<ul class="org-ul">
<li>en todos los linux <b>ya está instalado</b>!
</li>
<li>en otros sistemas pod usar <a href="https://es.wikipedia.org/wiki/PuTTY">PuTTY</a>
</li>
</ul>
</li>
<li><a href="https://es.wikipedia.org/wiki/PuTTY">https://es.wikipedia.org/wiki/PuTTY</a>
</li>
<li><b>dirección IP</b> de computadora remota
</li>
<li><b>usuario válido</b> de computadora remota
</li>
<li><b>contraseña</b> del usuario de la computadora remota
</li>
<li>que el <b>puerto 22 de salida esté habilitado</b> en el firewall
(aunque hay trucos para saltearlo)
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-6-3" class="outline-3">
<h3 id="sec-6-3">¿cómo me conecto por SSH?</h3>
<div class="outline-text-3" id="text-6-3">
<p>
En una terminal hay que escribir el comando <code>ssh</code> luego el
usuario remoto, por ejemplo: <b>pepe</b> y separado por un <b>@</b> arroba
la dirección <b>IP</b> o el dominio (ej: <code>192.168.0.9</code> ó <code>osiux.com</code>)
</p>

<div class="org-src-container">

<pre class="src src-sh">ssh pepe@192.168.0.9
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-6-4" class="outline-3">
<h3 id="sec-6-4">¿qué sucede la primera vez?</h3>
<div class="outline-text-3" id="text-6-4">
<p>
Siempre que nos conectamos por primera vez a un servidor SSH, nos
aparece un mensaje para que confirmemos la autenticidad de la
computadora a la que estamos conectándonos, por ahora somos
confiados y le decimos que sí, tipeando <b>yes</b>
</p>

<pre class="example">
osiris@osiux.com:/home/osiris# ssh 192.168.0.9
The authenticity of host 'lab2 (192.168.0.9)' can't be established.
RSA key fingerprint is e1:92:a3:54:95:e6:67:b8:89:80:11:02:93:f4:05:36.
Are you sure you want to continue connecting (yes/no)?
</pre>

<ul class="org-ul">
<li>Las próximas veces este paso no es necesario.
</li>
<li>Luego ingresamos la contraseña (password en inglés) y si es
correcta, ingresamos al sistema remoto!
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-6-5" class="outline-3">
<h3 id="sec-6-5">Listo, entré a la matrix! ¿y ahora?</h3>
<div class="outline-text-3" id="text-6-5">
<p>
Ahora podemos hacer todo lo que el usuario que usamos para
conectarnos (en este caso <b>pepe</b>) pueda hacer!
</p>

<p>
Ahora bien, resulta que este sistema remoto cuenta con un
administrador, que ve que alguien que no es él, ingresó al
sistema con su usuario! Entonces va a matar todos los procesos
del usuario <b>pepe</b>, a fin de dejarnos afuera del sistema.
</p>

<p>
Para esto, utiliza la herramienta <code>htop</code> que muestra todos los
procesos y presionando la tecla <code>F4</code> nos permite filtrar por la
palabra <b>pepe</b> y luego presionando <code>F9</code> y eligiendo <code>SIGKILL</code>
termina cada uno de los procesos del usuario <b>pepe</b>.
</p>

<p>
También se puede hacer desde la consola sin usar <code>htop</code>
</p>

<pre class="example">
root@lab2:/# pkill -u pepe
</pre>
</div>
</div>
<div id="outline-container-sec-6-6" class="outline-3">
<h3 id="sec-6-6">El intruso va por la revancha!</h3>
<div class="outline-text-3" id="text-6-6">
<p>
Como lo dejamos afuera a <b>pepe</b> matando sus procesos, ahora está
enojado! Entonces nos empieza a crear <b>carpetas</b> en
el <b>Escritorio</b> de la siguiente manera:
</p>

<pre class="example">
pepe@lab2:~/$ cd Escritorio
pepe@lab2:~/$ mkdir aguante
pepe@lab2:~/$ mkdir la
pepe@lab2:~/$ mkdir academia
</pre>

<p>
Si sigue así en algún momento nos va a llenar el <b>Escritorio</b>
</p>
</div>
</div>
<div id="outline-container-sec-6-7" class="outline-3">
<h3 id="sec-6-7">Eliminando al intruso!</h3>
<div class="outline-text-3" id="text-6-7">
<p>
Matar los procesos activos no es suficiente, debemos eliminar al
usuario, para esto hacemos:
</p>

<pre class="example">
root@lab2:/# deluser pepe
</pre>

<ul class="org-ul">
<li>Listo! ahora <b>pepe</b> no puede ingresar a nuestro sistema
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-6-8" class="outline-3">
<h3 id="sec-6-8">El intruso es duro de domar!</h3>
<div class="outline-text-3" id="text-6-8">
<p>
Resulta que <b>pepe</b> cuando ingresó la primera vez, fue astuto y
cambió la contraseña de <b>root</b>. ¿Y cómo pudo hacerlo? es simple,
el usuario <b>pepe</b> tenía permisos para usar <b>sudo</b> que permite
convertirse en <b>root</b> (y ser el <b>DIOS</b> del sistema).
Para cambiar la password hizo lo siguiente:
</p>

<pre class="example">
pepe@lab2:~/$ sudo -s
[sudo] password for pepe: 
root@lab2:/#

root@lab2:/# passwd
Cambiando la contraseña de root.
Introduzca la nueva contraseña de UNIX: 
Vuelva a escribir la nueva contraseña de UNIX:
</pre>
</div>
</div>
<div id="outline-container-sec-6-9" class="outline-3">
<h3 id="sec-6-9">¿Y ahora quién podrá defendernos?</h3>
<div class="outline-text-3" id="text-6-9">
<p>
Si un intruso logró obtener cuenta <b>root</b>, estamos fritos! tiene
completo control del sistema y sin que nos demos cuenta, salvo
que haga algo muy evidente como borrar todo el disco, va a pasar
desapercibido. Qué podemos hacer, para evitar esto?
</p>

<ul class="org-ul">
<li>Utilizar contraseñas fuertes, usando <code>md5</code> por ejemplo:
<pre class="example">
echo -n maradona | md5sum
8b123b7a7cf86f5aa9424d1f379384d8
</pre>
</li>
<li>Mucho más fácil de recordar, frases de paso:
<pre class="example">
Se te escapo la tortuga!
</pre>
</li>
<li>NO usar la misma contraseña en todos lados!
</li>
<li>NO usar <b>sudo</b>, loguearse como <b>root</b> sólo para tareas
administrativas
</li>
<li>NO permitir el login del usuario <b>root</b>
</li>
<li>Sólo permitir login por <i>SSH</i> desde algunas IPs
</li>

<li>OjO: aunque quitando el cable de red, basta para desconectar a
los intrusos, hoy día casi que vuelve inservible una compu
desconectada del mundo!
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-6-10" class="outline-3">
<h3 id="sec-6-10">Controlando la matrix!</h3>
<div class="outline-text-3" id="text-6-10">
<p>
Si bien usamos el ejemplo de un intruso, lo más probable es que
nosotros seamos root en muchos otros sistemas, como la compu del
trabajo, la de casa, la de un amigo/a, etc. Y poder administrar
varios sistemas remotos usando <i>SSH</i> u una sola terminal es
posible.
</p>

<p>
Para esto instalamos <b>Terminator</b>
</p>
<pre class="example">
sudo apt-get install terminator
</pre>

<p>
Iniciamos <b>Terminator</b> y presionando <b>CTRL-SHIFT-E</b> y <b>CTRL-SHIFT-O</b>
podemos dividir la pantalla vertical y horizontalmente tantas
veces como sea necesario, obteniendo muchas terminales dentro de
una sola y eligiendo la opción <b>retransmitir a todas</b> podemos
tipear una sola vez y que ese comando vaya a todas las terminales
conectadas! :-D
</p>
</div>
</div>
</div>
<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7">Entornos gráficos, ejecución remota de aplicaciones gráficas</h2>
<div class="outline-text-2" id="text-7">
</div><div id="outline-container-sec-7-1" class="outline-3">
<h3 id="sec-7-1"><code>ssh -X</code></h3>
<div class="outline-text-3" id="text-7-1">
<p>
Es posible ejecutar una aplicación gráfica de un servidor remoto
visualizando en el equipo local por medio de <code>ssh</code>, solo es
necesario incluir el parámetro <code>-X</code> y el servidor <i>X</i> se
redireciona a nuestro <i>host</i>
</p>

<pre class="example">
ssh -X caipiroska 'gnome-calculator'
</pre>
</div>
</div>
<div id="outline-container-sec-7-2" class="outline-3">
<h3 id="sec-7-2"><code>DISPLAY\</code>:0=</h3>
<div class="outline-text-3" id="text-7-2">
<p>
Utilizando la aplicación <code>notify-send</code> se puede enviar un mensaje
de notificación, normalmente es utilizado para visualizar eventos
del sistema, y estoy lo podemos hacer en un equipo remoto mediante
<code>ssh</code>:
</p>

<div class="org-src-container">

<pre class="src src-sh">ssh -X osiris@localhost <span style="color: #ad7fa8; font-style: italic;">"DISPLAY=:0 notify-send 'hola!'"</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-7-3" class="outline-3">
<h3 id="sec-7-3"><code>vnc4server</code></h3>
<div class="outline-text-3" id="text-7-3">
<p>
Habitualmente se utiliza <b>VNC</b> para compartir la sesión actual,
pero también se pueden levantar instancias nuevas, pudiendo tener
entornos gráficos diferentes en cada sesión de usuario en el mismo
servidor.
</p>

<p>
Es necesario ejecutar en el servidor:
</p>

<pre class="example">
vnc4server
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8">Procesos</h2>
<div class="outline-text-2" id="text-8">
</div><div id="outline-container-sec-8-1" class="outline-3">
<h3 id="sec-8-1">¿Qué es proceso?</h3>
<div class="outline-text-3" id="text-8-1">
<ul class="org-ul">
<li>Un proceso es la instancia de un programa en ejecución.
</li>
<li>También se lo conoce como tarea.
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-8-2" class="outline-3">
<h3 id="sec-8-2">¿Por qué?</h3>
<div class="outline-text-3" id="text-8-2">
<ul class="org-ul">
<li>GNU/Linux es un sistema multitarea, permite la ejecución de
múltiples procesos al mismo tiempo.
</li>

<li>Comprender el concepto de procesos nos permite administrar el
rendimiento de nuestro equipo.
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-8-3" class="outline-3">
<h3 id="sec-8-3">Lo que el usuario ve:</h3>
<div class="outline-text-3" id="text-8-3">

<div class="figure">
<p><img src="img/cfp-procesos-01.png" alt="cfp-procesos-01.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-8-4" class="outline-3">
<h3 id="sec-8-4">Lo que el sistema ve:</h3>
<div class="outline-text-3" id="text-8-4">

<div class="figure">
<p><img src="img/cfp-procesos-03.png" alt="cfp-procesos-03.png" />
</p>
</div>


<div class="figure">
<p><img src="img/cfp-procesos-04.png" alt="cfp-procesos-04.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-8-5" class="outline-3">
<h3 id="sec-8-5"><code>PID</code></h3>
<div class="outline-text-3" id="text-8-5">
<ul class="org-ul">
<li>Todo proceso que se inicia tiene un número asignado llamado
<b>PID</b>.
</li>

<li>Este <b>PID</b> permite identificar el proceso y administrarlo
(detenerlo, reanudarlo etc&#x2026;)
</li>

<li>Ejemplo: Para obtener el <b>PID</b> de un proceso podemos usar el
comando <code>pidof</code>:

<div class="org-src-container">

<pre class="src src-sh">pidof init emacs
</pre>
</div>

<pre class="example">
1 15787
</pre>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-8-6" class="outline-3">
<h3 id="sec-8-6">Listar procesos</h3>
<div class="outline-text-3" id="text-8-6">
<p>
El comando <code>ps</code> puede listar el estado de los procesos:
</p>


<div class="figure">
<p><img src="img/cfp-procesos-07.png" alt="cfp-procesos-07.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-8-7" class="outline-3">
<h3 id="sec-8-7">Operaciones</h3>
<div class="outline-text-3" id="text-8-7">
<p>
Los procesos se pueden controlar de manera externa.
</p>

<p>
El comando <code>kill</code>, <code>xkill</code> o <code>killall</code> permite enviarle señales a
los procesos. Por ejemplo la señal de terminación:
</p>


<div class="figure">
<p><img src="img/cfp-procesos-08.png" alt="cfp-procesos-08.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-8-8" class="outline-3">
<h3 id="sec-8-8">Jerarquía</h3>
<div class="outline-text-3" id="text-8-8">
<p>
El comando pstree nos permite ver la organización de los procesos
en ejecución:
</p>

<div class="org-src-container">

<pre class="src src-sh">ps -fax | grep -A 10 bash | head
</pre>
</div>

<pre class="example">
 2686 ?        S     50:52 /bin/bash /usr/share/siguibui/backend/shellserver.sh --daemon
21395 ?        S      0:00  \_ sleep 1
 2691 ?        S      2:54 /usr/bin/python /usr/share/pywwetha/pywwetha.py --daemon
 2692 ?        Ss     0:00 /usr/sbin/acpi_fakekeyd
 2731 ?        Ss     0:28 /usr/sbin/acpid
 2935 ?        Ss     0:30 /usr/sbin/apache2 -k start
 3138 ?        S      0:00  \_ /usr/sbin/apache2 -k start
 3139 ?        S      0:00  \_ /usr/sbin/apache2 -k start
 3140 ?        S      0:00  \_ /usr/sbin/apache2 -k start
 3141 ?        S      0:00  \_ /usr/sbin/apache2 -k start
</pre>

<div class="org-src-container">

<pre class="src src-sh">pstree -p -U | head
</pre>
</div>

<pre class="example">
init(1)─┬─NetworkManager(3472)─┬─dhclient(3639)
	│                      ├─{NetworkManager}(3518)
	│                      └─{NetworkManager}(3662)
	├─accounts-daemon(4022)───{accounts-daemon}(4024)
	├─acpi_fakekeyd(2692)
	├─acpid(2731)
	├─apache2(2935)─┬─apache2(3138)
	│               ├─apache2(3139)
	│               ├─apache2(3140)
	│               ├─apache2(3141)
</pre>
</div>
</div>
<div id="outline-container-sec-8-9" class="outline-3">
<h3 id="sec-8-9">En tiempo real</h3>
<div class="outline-text-3" id="text-8-9">
<p>
Para visualizar los procesos en ejecución, también se puede usar
<code>htop</code> o <code>top</code>:
</p>

<div class="org-src-container">

<pre class="src src-sh"><span style="color: #729fcf;">export</span> <span style="color: #ff6347;">TERM</span>=linux
top -b -n1 | head -20
</pre>
</div>

<pre class="example">
top - 18:34:37 up 11 days,  1:02,  6 users,  load average: 0,76, 0,88, 0,86
Tasks: 180 total,   1 running, 179 sleeping,   0 stopped,   0 zombie
%Cpu(s): 13,9 us,  4,8 sy,  0,0 ni, 80,1 id,  0,6 wa,  0,5 hi,  0,2 si,  0,0 st
KiB Mem:   2044852 total,  1709304 used,   335548 free,    89148 buffers
KiB Swap:        0 total,        0 used,        0 free,   600420 cached

  PID USER      PR  NI  VIRT  RES  SHR S  %CPU %MEM     TIME+ COMMAND
 8203 root      20   0  121m  18m 6500 S   5,9  0,9   3:47.59 Xorg
26355 osiris    20   0 26096 1488 1080 R   5,9  0,1   0:00.02 top
    1 root      20   0 10648  788  652 S   0,0  0,0   0:12.03 init
    2 root      20   0     0    0    0 S   0,0  0,0   0:00.16 kthreadd
    3 root      20   0     0    0    0 S   0,0  0,0  14:15.93 ksoftirqd/0
    6 root      rt   0     0    0    0 S   0,0  0,0   0:00.00 migration/0
    7 root      -2   0     0    0    0 S   0,0  0,0   3:50.22 rcuc/0
    8 root      rt   0     0    0    0 S   0,0  0,0   0:00.00 rcun/0
    9 root      -2   0     0    0    0 S   0,0  0,0   0:00.00 rcub/0
   10 root      rt   0     0    0    0 S   0,0  0,0   0:00.00 rcun/1
   11 root      -2   0     0    0    0 S   0,0  0,0   0:00.00 rcub/1
   12 root      rt   0     0    0    0 S   0,0  0,0   0:00.00 migration/1
   14 root      -2   0     0    0    0 S   0,0  0,0   5:24.04 rcuc/1
</pre>


<div class="figure">
<p><img src="img/cfp-procesos-11.png" alt="cfp-procesos-11.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-8-10" class="outline-3">
<h3 id="sec-8-10">Resumen</h3>
<div class="outline-text-3" id="text-8-10">
<ul class="org-ul">
<li>Los procesos son instancias de programas en funcionamiento.
</li>
<li>Los recursos del sistema son limitados, el sistema administra y
hace posible compartir recursos.
</li>
<li>Cada proceso tiene un identiﬁcador (<code>PID</code>), que nos sirve para
enviar señales.
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-8-11" class="outline-3">
<h3 id="sec-8-11">Changelog</h3>
<div class="outline-text-3" id="text-8-11">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2013-03-18 lun]</span></span> migro <a href="http://wiki.gcoop.coop/_media/apuntes:procesos.pdf">slides pdf</a> de Hugo Ruscitti a <code>.org</code>
</p>
</div>
</div>
</div>
<div id="outline-container-sec-9" class="outline-2">
<h2 id="sec-9">Automatizando tareas: <code>sleep</code>, <code>jobs</code>, <code>crontab</code></h2>
<div class="outline-text-2" id="text-9">
<p>
Cada vez que ejecutamos un comando en una terminal, éste comando
se convierte en un proceso hijo de la terminal que estamos
ejecutando.  Por ejemplo, si estamos en la interfase gráfica, la
terminal sería <b>gnome-terminal</b> quien a su vez invoca al
intérprete <b>bash</b> y desde ahí podríamos invocar a <b>firefox</b>. Esto
se puede visualizar de la siguiente manera:
</p>

<pre class="example">
# ps fax | grep -C3 firefox

 4444 ?        Ssl    0:13 gnome-terminal
 4453 ?        Z      0:00  \_ gnome-pty-helper
 4454 pts/10   Ss     0:00  \_ bash
 4509 pts/10   S+     0:52      \_ firefox
 6347 pts/13   Ss     0:00  \_ bash
11781 pts/13   S+     0:01  |   \_ ps fax
11782 pts/13   S+     0:01  |   \_ grep -C3 firefox
</pre>

<p>
Lo que vemos es el árbol de ejecución de procesos y si cerramos
la terminal, también se cerraría <b>firefox</b> por depender del
proceso <b>terminal</b>.
</p>
</div>

<div id="outline-container-sec-9-1" class="outline-3">
<h3 id="sec-9-1">Para mí, vos estás en segundo plano</h3>
<div class="outline-text-3" id="text-9-1">
<p>
Al ejecutar un comando en una terminal, por ejemplo <b>top</b>, este
comando pasa a estar en primer plano y hasta que no interrumpamos
el comando presionando <b>CTRL-C</b> o saliendo del mismo mediante la
tecla <b>q</b>, no se puede ejecutar ningún otro comando en el misma
terminal. Para solucionar este inconveniente es posible pasar el
proceso a <b>segundo plano</b>, para esto sólo basta
presionar <b>CTRL-Z</b>, lo cual nos devuelve el <b>PROMPT</b> de la
terminal para que invoquemos nuevos comandos.
</p>

<p>
Es posible visualizar la lista de tareas mediante el
comando <b>jobs</b>, en este caso nos mostraría que está detenido:
</p>

<pre class="example">
# jobs
[1]+  Detenido                top
</pre>

<p>
Para recuperar la ejecución de <b>top</b> podemos escribir <b>fg</b> que
significa <b>foreground</b> o sea, pasar a primer plano.
</p>
</div>
</div>
<div id="outline-container-sec-9-2" class="outline-3">
<h3 id="sec-9-2">Sos tan lento&#x2026; que no te quiero ver</h3>
<div class="outline-text-3" id="text-9-2">
<p>
También se puede enviar a segundo plano un comando ni bien lo
invocamos, generalmente esto, se hace con comandos que sabemos
que van a tardar mucho, como por ejemplo listar todos los
archivos que hay en el disco rígido y enviarlo a un archivo, para
esto solo basta agregar el caracter <b>&amp;</b> o <b>ampersand</b> al final de
un comando:
</p>

<pre class="example">
# find / &gt;/tmp/archivos.log &amp;
</pre>

<p>
De esta manera, el comando <b>find</b> lista todos los archivos que se
encuentran en la raíz <b>/</b> y los envía a un archivo usando <b>&gt;</b>.
</p>

<p>
Podemos ver que el total de líneas del archivo crece mediante el
comando <b>wc</b>:
</p>

<pre class="example">
# wc -l /tmp/archivos.log
</pre>

<p>
Algunos comandos ya incluyen una función de segundo plano, por
ejemplo <b>wget</b> que sirve para descargar archivos, mediante el
parámetro <b>-b</b> redirecciona la salida del comando al
archivo <b>wget-log</b> y nos permite seguir trabajando.
</p>

<pre class="example">
# wget -b http://releases.ubuntu.com/precise/ubuntu-12.04.1-desktop-i386.iso
Continuando en segundo plano, pid 12949.
La salida será escrita a “wget-log”.
</pre>

<p>
Para visualizar si se completó la descargar, solo basta mirar el
archivo <b>wget-log</b>, en la última línea debería decir 100%:
</p>

<pre class="example">
  cat ~/wget-log

--2012-10-29 18:28:50--  http://releases.ubuntu.com/precise/ubuntu-12.04.1-desktop-i386.iso
Resolviendo localhost (localhost)... 127.0.0.1
Conectando con localhost (localhost)[127.0.0.1]:8123... conectado.
Petición Proxy enviada, esperando respuesta... 200 OK
Longitud: 729067520 (695M) [application/x-iso9660-image]
Grabando a: “ubuntu-12.04.1-desktop-i386.iso”

 0K .......... .......... .......... .......... ..........  0% 24,7K 8h0m
    50K .......... .......... .......... .......... ..........  0% 68,8K 5h26m
   100K .......... .......... .......... .......... ..........  0% 61,5K 4h41m
   150K .......... .......... .......... .......... ..........  0% 66,8K 4h15m
</pre>
</div>
</div>
<div id="outline-container-sec-9-3" class="outline-3">
<h3 id="sec-9-3">Esta compu, se destruye en 5 minutos!</h3>
<div class="outline-text-3" id="text-9-3">
<p>
En ocasiones es necesario ejecutar algún comando dentro de cierto
tiempo, por ejemplo dentro de 5 minutos, para ello se puede
utilizar <b>sleep</b>, luego se ingresa el tiempo usando <b>s</b> para
segundos, <b>m</b> para minutos y <b>h</b> para horas:
</p>

<pre class="example">
# sleep 5m; reboot
</pre>
</div>
</div>
<div id="outline-container-sec-9-4" class="outline-3">
<h3 id="sec-9-4">Tengo un crontab para no olvidar nada</h3>
<div class="outline-text-3" id="text-9-4">
<p>
Mediante el uso del <b>crontab</b> es posible definir la ejecución de
tareas de manera específica.
</p>

<p>
Es posible entonces programar una tarea de manera diaria,
semanal, mensual, etc:
</p>

<pre class="example">
# Usar numeral para escribir comentarios
# +---------------- minutos (0 - 59)
# |  +------------- horas (0 - 23)
# |  |  +---------- día del mes (1 - 31)
# |  |  |  +------- mes (1 - 12)
# |  |  |  |  +---- día de la semana (0 - 7) (Domingo=0 or 7)
# |  |  |  |  |
# *  *  *  *  *     comando a ejecutar

*/5  *  *  *  *     /root/cada-5-minutos.sh
  0 23  *  *  *     /root/backup-diario.sh
  0  0  1  *  *     /root/backup-mensual.sh
  0 23 31 12  *     /root/backup-anual.sh
  0 12  *  *  0     DISPLAY=:0.0 /usr/bin/notify-send "asadito"
  0 12 29  *  *     DISPLAY=:0.0 /usr/bin/notify-send "ñoquis"
</pre>

<p>
Para editar, ejecutar:
</p>
<pre class="example">
# crontab -e
</pre>

<p>
Para listar, ejecutar:
</p>
<pre class="example">
# crontab -l
</pre>
</div>
</div>
<div id="outline-container-sec-9-5" class="outline-3">
<h3 id="sec-9-5">Robotizando el mouse</h3>
<div class="outline-text-3" id="text-9-5">
<p>
Muchas veces, puede resultar muy útil automatizar tareas de la
interfase gráfica pero usando una terminal, para esto es
necesario instalar <b>xautomation</b>:
</p>

<pre class="example">
# sudo apt-get install xautomation
</pre>

<p>
Una vez instalado, es posible mover el mouse y hacer click en un
lugar determinado de la pantalla de la siguiente manera:
</p>

<pre class="example">
# xte 'mousemove 100 300'; xte 'mouseclick 1'
</pre>

<p>
La orden <b>mousemove 100 300</b> hace que el mouse se mueva a la
posicion 100 en el eje X, o sea a 100 pixels de la esquina
izquiera del monitor, de igual manera a 300 pixels en el eje Y.
</p>

<p>
La orden <b>mouseclick 1</b> emula un click en el botón izquierdo del
mouse.
</p>

<p>
Imaginemos que por algún motivo, necesitamos movernos a un lugar
en la pantalla y hacer muchos clicks, por ejemplo para avanzar de
página en internet y queremos capturar la pantalla antes de hacer
click y asi guardar lo que se está mostrando.
</p>

<p>
Entonces necesitamos instalar un capturador de pantalla que
funcione desde la terminal, por ejemplo <b>scrot</b>:
</p>

<pre class="example">
# sudo apt-get install scrot
</pre>

<p>
Ahora bien, ya sabemos movernos por la pantalla, hacer click y
tenemos un comando que captura la pantalla, sólo bastaría hacer
un pequeño programa que repita la operación, por ejemplo 186
veces!:
</p>

<pre class="example">
# for i in {1..186};do scrot; xte 'mousemove 100 300'; xte 'mouseclick 1'; sleep 3s;done
</pre>

<p>
Listo, en una sóla línea es posible definirlo, basta con
presionar <b>ENTER</b> y vamos a obtener 186 imágenes distintas.
</p>

<p>
Veamos que hace cada línea, paso a paso:
</p>

<pre class="example">
for i in {1..186}  # incrementa el valor de i desde 1 a 186
do # inicia la ejecucion
scrot # captura la pantalla
xte 'mousemove 100 300' # mueve el mouse a la posicion 100,300
xte 'mouseclick 1' # presiona click izquierdo del mouse
sleep 3s # espera 3 segundos
done # termina la ejecucion
</pre>

<p>
De esta simple manera, se pueden automatizar muchísimas tareas!
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Osiris Alejandro Gómez (<a href="mailto:osiris@gcoop.coop">osiris@gcoop.coop</a>)</p>
<p class="date">Date: 2014-01-20</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 23.4.1 (<a href="http://orgmode.org">Org</a> mode 8.2.5h)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
