<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es">
<head>
<title>Administrador de Sistemas GNU/Linux</title>
<!-- 2014-03-27 jue 08:25 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Osiris Alejandro Gómez" />
<link rel="stylesheet" href="osiux.css" type="text/css" /><link rel="stylesheet" href="print.css" type="text/css" media="print" />
</head>
<body>
<div id="content">
<h1 class="title">Administrador de Sistemas GNU/Linux</h1>



<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Filosofía UNIX</h2>
<div class="outline-text-2" id="text-1">
<p>
<i>UNIX</i> incorpora un conjunto de herramientas que guardan cierta
analogía con una navaja multiusos. Son simples, pero hacen muy bien
su trabajo. En lugar de construir programas muy complejos, <i>UNIX</i>
proporcionaba muchas pequeñas herramientas, y un esquema para poder
combinarlas de forma efectiva. Este diseño escala muy bien,
permitiendo al sistema crecer, incorporar nuevas herramientas y, a la
vez, ser compatible hacia atrás.
</p>

<p>
Los objetivos con que se creó determinaron una <i>filosofía</i> de <i>UNIX</i>
caracterizada por:
</p>

<ul class="org-ul">
<li>comandos cortos, simples, específicos y muy eficientes, que "hacen
una sola cosa pero la hacen muy bien".
</li>

<li>entrada y salida estandarizadas que permiten la interconexión de
comandos. Esto se llama entubamiento (<i>pipelining</i>): la salida de
un comando es tomada por el siguiente como entrada.
</li>
</ul>

<p>
Algunas directivas son:
</p>

<ul class="org-ul">
<li>Escribe programas que hagan una sola cosa y la hagan bien: esto
quiere decir que los programas deben de ser lo más atómicos posible
y que se compruebe mucho su rendimiento y funcionamiento para
hacerlo lo mejor posible.
</li>

<li>Escribe programas que trabajen juntos: de nada sirve escribir
programas que sirvan para una tarea específica y que, después,
cuando esa tarea se modifique de cierta forma, haya que reescribir
todo el programa.
</li>

<li>Es mejor dividir el problema en varios programas y después desechar
o reescribir solo uno de esos pequeños programas, cuando se
necesite, o incluso hacer nuevos.
</li>

<li>Escribe programas que manejen flujos de texto, pues esa es la
interfaz universal: todo lo que se hace con entrada y salida en
formato textual es más fácil de enlazar con otros programas, así
como reutilizarla en el pasado, presente y futuro.
</li>
</ul>

<p>
En estos conceptos se basa la mayoría del software libre existente,
por lo que servidores como <code>sendmail</code> o <code>postfix</code>, están diseñados en
pequeños servidores y/o programas que hacen partes de todo un proceso
y, mediante sus ficheros de configuración, se pueden enlazar de una u
otra forma, así como usar otros programas y/o servidores en lugar de
los que vienen por defecto y, así, extender su funcionalidad.
</p>

<p>
Sobre <i>filosofía Unix</i>, de una forma más extensa, <i>Mike Gancarz</i>,
escribe las siguientes líneas:
</p>

<ul class="org-ul">
<li>Lo pequeño es hermoso.
</li>
<li>Haz que cada programa haga una sola cosa, pero que la haga bien.
</li>
<li>Construye un prototipo lo antes posible.
</li>
<li>Elige portabilidad sobre eficiencia.
</li>
<li>Guarda los datos en archivos de texto plano.
</li>
<li>Aprovecha funcionalidades del software.
</li>
<li>Usa <i>scripts</i> de <i>shell</i> para aumentar la funcionalidad y portabilidad.
</li>
<li>Evita interfaces de usuario captivas.
</li>
<li>Haz de cada programa un filtro.
</li>
</ul>

<p>
La <i>filosofía UNIX</i> supone crear programas rápidos, simples, con poca
intervención por parte del usuario, o en caso de necesitarla, esta se
produzca al principio o lo más mínima posible. Esta se acopla
perfectamente a las necesidades de computación de los laboratorios
científicos, puesto que <i>Unix</i> fue originalmente desarrollado en uno de
estos.
</p>

<p>
A continuación algunas premisas:
</p>

<ul class="org-ul">
<li>Que cada programa realice únicamente la tarea para la que fue
creado y la haga bien.
</li>
<li>Para llevar a cabo una nueva tarea escribe un programa nuevo. No
compliques uno viejo añadiendo nueva funcionalidad.
</li>
<li>Escribe tu programa teniendo en cuenta que su salida probablemente
sea la entrada de otro programa.
</li>
<li>Guarda los datos en archivos de texto plano. Si necesitas
seguridad, confía en los permisos.
</li>
<li>Usa nombres cortos y en minúscula.
</li>
<li>En la manera de lo posible haz que el usuario suministre los datos
por línea de comandos en la llamada.
</li>
<li>Haz partes simples conectadas mediante interfaces limpias y bien
definidas.
</li>
<li>Céntrate en los datos.
</li>
<li>Claridad mejor que complejidad. La solución más simple es
frecuentemente la mejor.
</li>
<li>Portabilidad mejor que eficiencia.
</li>
<li>Piensa en paralelo. Hay otros procesos en el mundo, incluso
instancias de tu mismo programa funcionando al mismo tiempo.
</li>
<li>Hacer programas grandes, solo cuando se demuestre que no se puede
realizar con uno pequeño.
</li>
<li>Si no hay nada interesante que decir, que el programa mejor no diga
nada.
</li>
<li>Para cada problema existen múltiples soluciones.
</li>
<li>Diseña pensando en el futuro (esta cercano). Esto nos ofrece
compatibilidad y mayor tiempo de utilización.
</li>
<li>Programa de abajo hacia arriba y de conocimiento pragmático.
</li>
<li>Programa basado en el conocimiento Empírico o Experiencia.
</li>
<li>No se encuentra en los métodos y las normas oficiales, sino en el
medio-reflexivo implícito, el conocimiento.
</li>
</ul>

<p>
En resumidas cuentas la <i>filosofía Unix</i> se puede describir como bien
lo dice <i>Doug Mcllroy</i>:
</p>

<p>
"Escribe programas que hagan una cosa y la hagan bien, que trabajen
en armonía con otros y que manejen flujos de texto, pues esta es una
interfaz universal." - <i>Doug Mcllroy</i>
</p>

<p>
"Aquellos que no pueden entender UNIX, están condenados a
reinventarlo, pobremente." - <i>Henry Spencer</i>, 1987
</p>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Linux por dentro, jerarquías de directorios</h2>
<div class="outline-text-2" id="text-2">
<pre class="example">
/
+-- bin         binarios
+-- boot        inicio del sistema, imágenes del kernel
+-- dev         dispositivos, presentes y futuros
+-- etc         configuraciones
+-- home        directorios personales de los usuarios
+-- lib         bibliotecas
+-- lost+found  archivos y/o cadenas perdidas
+-- media       dispositivos extraerles
+-- mnt         dispositivos montados
+-- opt         binarios fuera de la distro
+-- proc        procesos en ejecución
+-- root        directorio personal del /root/
+-- run         archivos de procesos en ejecución
+-- sbin        binarios del sistema
+-- selinux     secure linux
+-- srv         servicios ej: ftp
+-- sys         system
+-- tmp         temporales
+-- usr         archivos compartidos
+-- var         archivos que varían de tamaño, ej: logs
</pre>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Todo es un archivo, conociendo <code>/proc</code> y <code>/dev</code></h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><code>/proc</code></h3>
<div class="outline-text-3" id="text-3-1">
<p>
Es un pseudo-sistema de ficheros que se usa como interfaz para las
estructuras de datos del núcleo en lugar de leer e interpretar
/dev/kmem. La mayor parte de este sistema de ficheros es de sólo
lectura, pero algunos ficheros permiten cambiar variables del
núcleo.
</p>
</div>

<div id="outline-container-sec-3-1-1" class="outline-4">
<h4 id="sec-3-1-1"><code>/proc/partitions</code></h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
Podemos ver las particiones que leyó el <i>kernel</i>:
</p>

<div class="org-src-container">

<pre class="src src-sh">cat /proc/partitions
</pre>
</div>

<pre class="example">
major minor  #blocks  name

   8        0  488386584 sda
   8        1   52428800 sda1
   8        2   52428800 sda2
   8        3  383527960 sda3
  11        0    1048575 sr0
 254        0  383525912 dm-0
</pre>
</div>
</div>
<div id="outline-container-sec-3-1-2" class="outline-4">
<h4 id="sec-3-1-2"><code>/proc/uptime</code></h4>
<div class="outline-text-4" id="text-3-1-2">
<p>
El <code>uptime</code> de nuestro equipo puede ser consultado directamente en
<code>/proc/uptime</code>,
</p>

<div class="org-src-container">

<pre class="src src-sh">cat /proc/uptime
</pre>
</div>

<pre class="example">
1901728.32 3010323.20
</pre>

<p>
Si utilizamos el comando <code>uptime</code>, éste lee el valor expresado en
<b>epoc</b> (segundos que pasaron desde el 01/01/1970) y nos informa
hace cuántos días y horas nuestro servidor está prendido, además
de informar otros valores, como la cantidad de usuarios y el
<b>average</b>:
</p>

<div class="org-src-container">

<pre class="src src-sh">uptime
</pre>
</div>

<pre class="example">
10:53:05 up 22 days, 15 min,  6 users,  load average: 1,63, 1,70, 1,58
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2"><code>/dev</code></h3>
<div class="outline-text-3" id="text-3-2">
<p>
Aquí se encuentran todos los dispositivos del sistema, presentes y
futuros.
</p>
</div>

<div id="outline-container-sec-3-2-1" class="outline-4">
<h4 id="sec-3-2-1"><code>/dev/null</code></h4>
<div class="outline-text-4" id="text-3-2-1">
<p>
Este dispositivo es muy especial y sumamente útil, es un agujero
negro, todo lo que se envía a <code>/dev/null</code> desaparece
</p>

<div class="org-src-container">

<pre class="src src-sh">ls -lh /dev/null
</pre>
</div>

<pre class="example">
crw-rw-rw- 1 root root 1, 3 ene 20 10:37 /dev/null
</pre>

<p>
Si enviamos algo y luego miramos con un <code>ls</code> no vemos que se
incremente el tamaño del archivo:
</p>

<div class="org-src-container">

<pre class="src src-sh"><span style="color: #729fcf;">echo</span> <span style="color: #ad7fa8; font-style: italic;">"hola"</span> &gt;/dev/null
ls -lh /dev/null
</pre>
</div>

<pre class="example">
crw-rw-rw- 1 root root 1, 3 ene 20 10:37 /dev/null
</pre>
</div>
</div>
<div id="outline-container-sec-3-2-2" class="outline-4">
<h4 id="sec-3-2-2"><code>/dev/sdX</code></h4>
<div class="outline-text-4" id="text-3-2-2">
<p>
Los discos están identificados con el prefijo <code>sd</code>, luego una letra
<code>a</code>, <code>b</code>, <code>c</code>, etc y finalmente un número <code>1</code>, <code>2</code>, <code>3</code>, etc que
identifica la partición:
</p>

<p>
Listamos el disco <code>sda</code>
</p>

<div class="org-src-container">

<pre class="src src-sh">ls /dev/sda*
</pre>
</div>

<pre class="example">
/dev/sda
/dev/sda1
/dev/sda2
/dev/sda3
</pre>

<p>
Vemos si esta montado <code>sda</code>:
</p>

<div class="org-src-container">

<pre class="src src-sh">mount | grep sda
</pre>
</div>

<pre class="example">
/dev/sda1 on /mnt/sda1 type ext4 (rw,relatime,user_xattr,barrier=1,data=ordered)
</pre>

<p>
Visualizamos el espacio disponible:
</p>

<div class="org-src-container">

<pre class="src src-sh">df -h | grep sda
</pre>
</div>

<pre class="example">
/dev/sda1                                                 50G    14G   34G  29% /mnt/sda1
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">Entrada estándar, Salida estándar y Tuberías</h2>
<div class="outline-text-2" id="text-4">
</div><div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1">Descriptores de archivos</h3>
<div class="outline-text-3" id="text-4-1">
<p>
Existen 3 descriptores básicos de archivos:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left"><code>0</code></td>
<td class="left"><code>stdin</code></td>
<td class="left">entrada estándar</td>
</tr>

<tr>
<td class="left"><code>1</code></td>
<td class="left"><code>stdout</code></td>
<td class="left">salida estándar</td>
</tr>

<tr>
<td class="left"><code>2</code></td>
<td class="left"><code>stderr</code></td>
<td class="left">salida de errores</td>
</tr>
</tbody>
</table>

<p>
Es posible redireccionar cada uno de éstos descriptores mediante los
operadores <code>&gt;</code>, <code>&lt;</code> y <code>|</code>
</p>
</div>
</div>
<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2">Enviar la salida estándar a un archivo</h3>
<div class="outline-text-3" id="text-4-2">

<div class="figure">
<p><img src="img/stdout-file.png" alt="stdout-file.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-3" class="outline-3">
<h3 id="sec-4-3">Enviar la salida de errores a un archivo</h3>
<div class="outline-text-3" id="text-4-3">

<div class="figure">
<p><img src="img/stderr-file.png" alt="stderr-file.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-4" class="outline-3">
<h3 id="sec-4-4">Enviar la salida estándar y la salida de errores a un mismo archivo</h3>
<div class="outline-text-3" id="text-4-4">

<div class="figure">
<p><img src="img/stderr-stdout-file.png" alt="stderr-stdout-file.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-5" class="outline-3">
<h3 id="sec-4-5">Enviar la salida de errores a la salida estándar</h3>
<div class="outline-text-3" id="text-4-5">

<div class="figure">
<p><img src="img/stderr-stdout.png" alt="stderr-stdout.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-6" class="outline-3">
<h3 id="sec-4-6">Enviar la salida de estándar a <code>/dev/null</code></h3>
<div class="outline-text-3" id="text-4-6">

<div class="figure">
<p><img src="img/stdout-dev-null.png" alt="stdout-dev-null.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-7" class="outline-3">
<h3 id="sec-4-7">Enviar la salida de estándar y la salida de errores a <code>/dev/null</code></h3>
<div class="outline-text-3" id="text-4-7">

<div class="figure">
<p><img src="img/stderr-stdout-dev-null.png" alt="stderr-stdout-dev-null.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-8" class="outline-3">
<h3 id="sec-4-8">Enviar un archivo a la entrada estándar</h3>
<div class="outline-text-3" id="text-4-8">

<div class="figure">
<p><img src="img/stdin-file.png" alt="stdin-file.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-9" class="outline-3">
<h3 id="sec-4-9">Enviar la salida estándar a un archivo y a la salida estándar</h3>
<div class="outline-text-3" id="text-4-9">

<div class="figure">
<p><img src="img/tee-stdout-file.png" alt="tee-stdout-file.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-10" class="outline-3">
<h3 id="sec-4-10">Enviar la salida estándar de un comando como la entrada estándar de otro comando</h3>
<div class="outline-text-3" id="text-4-10">

<div class="figure">
<p><img src="img/stdout-pipe-stdin.png" alt="stdout-pipe-stdin.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-11" class="outline-3">
<h3 id="sec-4-11"><code>stdout</code></h3>
<div class="outline-text-3" id="text-4-11">
<p>
Buscar el texto <b>model</b> en el archivo <code>/proc/cpuinfo</code> y enviar el
resultado a un nuevo archivo llamado <code>/tmp/cpu</code> que contendrá
únicamente las líneas que coinciden con el texto <b>model</b>:
</p>

<div class="org-src-container">

<pre class="src src-sh">grep model /proc/cpuinfo &gt; /tmp/cpu
cat /tmp/cpu
</pre>
</div>

<pre class="example">
model       : 28
model name  : Intel(R) Atom(TM) CPU D425   @ 1.80GHz
model       : 28
model name  : Intel(R) Atom(TM) CPU D425   @ 1.80GHz
</pre>

<p>
Buscar el texto <b>cache</b> en el archivo <code>/proc/cpuinfo</code> y agregar el
resultado al archivo <code>/tmp/cpu</code>
</p>

<div class="org-src-container">

<pre class="src src-sh">grep cache /proc/cpuinfo &gt;&gt; /tmp/cpu
cat /tmp/cpu
</pre>
</div>

<pre class="example">
model       : 28
model name  : Intel(R) Atom(TM) CPU D425   @ 1.80GHz
model       : 28
model name  : Intel(R) Atom(TM) CPU D425   @ 1.80GHz
cache size  : 512 KB
cache_alignment : 64
cache size  : 512 KB
cache_alignment : 64
</pre>
</div>
</div>
<div id="outline-container-sec-4-12" class="outline-3">
<h3 id="sec-4-12"><code>stderr</code></h3>
<div class="outline-text-3" id="text-4-12">
<p>
Enviar la salida con errores a <code>/dev/null</code>:
</p>

<pre class="example">
xkcd 2&gt;/dev/null
</pre>

<p>
Redireccionar la salida con errores a la salida estandar:
</p>

<pre class="example">
echo "xkcd" | grep 2&gt;&amp;1
</pre>
</div>
</div>
<div id="outline-container-sec-4-13" class="outline-3">
<h3 id="sec-4-13">pipes</h3>
<div class="outline-text-3" id="text-4-13">
<p>
El símbolo <code>|</code> es usado para redireccionar la salida de un comando
a la entrada de otro comando.
</p>

<p>
Ejemplo:
</p>

<p>
Lista el directorio <code>/var/log</code> ordenando los archivos más nuevos
al principio y muestra sólo las primeras 10 líneas mediante el
comando <code>head</code>
</p>

<div class="org-src-container">

<pre class="src src-sh">ls -lht /var/log | head
</pre>
</div>

<pre class="example">
total 14M
-rw-rw-r-- 1 root              utmp       107K feb 10 20:46 wtmp
-rw-r----- 1 root              adm        769K feb 10 20:45 mail.info
-rw-r----- 1 root              adm        769K feb 10 20:45 mail.log
-rw-r----- 1 root              adm        356K feb 10 20:45 syslog
-rw-r----- 1 root              adm        337K feb 10 20:45 auth.log
-rw-r----- 1 root              adm        3,1K feb 10 19:49 messages
-rw-r----- 1 root              adm        2,9K feb 10 19:49 kern.log
-rw-r--r-- 1 root              root        29K feb 10 16:42 Xorg.0.log
-rw-r----- 1 root              adm        1,9K feb 10 16:42 daemon.log
</pre>

<p>
lista el directorio <code>/var/log</code> mostrando el tamaño de cada
archivo, se filtra el resultando por Megabytes (<code>M</code>), luego
ordena de mayor a menor y finalmente limita la lista a los
primeros 10 archivos que más espacio ocupan, incluyendo el total
del directorio:
</p>

<div class="org-src-container">

<pre class="src src-sh"><span style="color: #729fcf;">cd</span> /var/log;du -ch *  | grep M | sort -nr | head
</pre>
</div>

<pre class="example">
496M    total
468M    atop
15M installer
14M installer/cdebconf
3,3M    mail.log.1
3,3M    mail.info.1
1,5M    auth.log.1
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5">Comandos básicos de terminal</h2>
<div class="outline-text-2" id="text-5">
</div><div id="outline-container-sec-5-1" class="outline-3">
<h3 id="sec-5-1">Directorios:</h3>
<div class="outline-text-3" id="text-5-1">
<p>
El separador de archivos y directorios es la barra <code>/</code>
</p>

<p>
ejemplos:
</p>

<pre class="example">
/              directorio raíz (*root*)
/etc           directorio usr (sub-directorio de la raíz =/=)
/etc/apache2   apache2 subdirectorio de /etc
</pre>
</div>

<div id="outline-container-sec-5-1-1" class="outline-4">
<h4 id="sec-5-1-1">Moviéndose en el sistema de archivos:</h4>
<div class="outline-text-4" id="text-5-1-1">
</div><div id="outline-container-sec-5-1-1-1" class="outline-5">
<h5 id="sec-5-1-1-1"><code>pwd</code></h5>
<div class="outline-text-5" id="text-5-1-1-1">
<p>
Muestra el directorio actual.
</p>
</div>
</div>
<div id="outline-container-sec-5-1-1-2" class="outline-5">
<h5 id="sec-5-1-1-2"><code>cd</code></h5>
<div class="outline-text-5" id="text-5-1-1-2">
<p>
Cambia al directorio definido en <code>HOME</code>
</p>
</div>
</div>
<div id="outline-container-sec-5-1-1-3" class="outline-5">
<h5 id="sec-5-1-1-3"><code>cd /etc/php5</code></h5>
<div class="outline-text-5" id="text-5-1-1-3">
<p>
Cambia el directorio actual a <code>/etc/php5</code>
</p>
</div>
</div>
<div id="outline-container-sec-5-1-1-4" class="outline-5">
<h5 id="sec-5-1-1-4"><code>cd apache2</code></h5>
<div class="outline-text-5" id="text-5-1-1-4">
<p>
Cambia al subdirectorio <code>apache2</code> del directorio actual
</p>
</div>
</div>
<div id="outline-container-sec-5-1-1-5" class="outline-5">
<h5 id="sec-5-1-1-5"><code>cd ..</code></h5>
<div class="outline-text-5" id="text-5-1-1-5">
<p>
Cambia al directorio inmediato superior
</p>
</div>
</div>
<div id="outline-container-sec-5-1-1-6" class="outline-5">
<h5 id="sec-5-1-1-6"><code>cd $HOME</code></h5>
<div class="outline-text-5" id="text-5-1-1-6">
<p>
Cambia al directorio definido en la variable <code>HOME</code>
</p>
</div>
</div>
<div id="outline-container-sec-5-1-1-7" class="outline-5">
<h5 id="sec-5-1-1-7"><code>cd ~osiris</code></h5>
<div class="outline-text-5" id="text-5-1-1-7">
<p>
Cambia al directorio del usuario osiris
</p>
</div>
</div>
</div>
<div id="outline-container-sec-5-1-2" class="outline-4">
<h4 id="sec-5-1-2">Listar directorios:</h4>
<div class="outline-text-4" id="text-5-1-2">
</div><div id="outline-container-sec-5-1-2-1" class="outline-5">
<h5 id="sec-5-1-2-1"><code>ls -l</code></h5>
<div class="outline-text-5" id="text-5-1-2-1">
<p>
Listar en formato ancho, de esta manera se visualizan gran parte de
los atributos de cada archivo y/o directorio
</p>

<pre class="example">
$ ls -l

-rw-rw-r-- 1 osiris www-data      612 nov  1 19:29 redes.html
-rw-rw-r-- 1 osiris www-data    11457 nov  1 19:31 scrum.html
-rw-rw-r-- 1 osiris www-data     6556 abr 24  2013 ssh.org
-rw-rw-r-- 1 osiris www-data      609 abr 24  2013 graphviz.org
-rw-rw-r-- 1 osiris www-data    17326 abr 24  2013 gnuplot.org
-rw-rw-r-- 1 osiris www-data    11457 nov  1 19:31 tmp
^ ^  ^  ^  ^ ^           ^          ^ ^      ^     ^
| |  |  |  | |           |          | |      |     |
| |  |  |  | propietario grupo tamaño fecha  hora  nombre
| |  |  |  número de links al archivo o contenido del directorio
| |  |  permisos para todos
| |  permisos para miembros del grupo
| permisos para el propietario del archivo:
|   r     lectura
|   w     escritura
|   x     ejecutar
|   -     ninguno
tipo de archivo:
  -   archivo normal
  d   directorio
  l   enlace simbolico
</pre>
</div>
</div>
<div id="outline-container-sec-5-1-2-2" class="outline-5">
<h5 id="sec-5-1-2-2"><code>ls</code></h5>
<div class="outline-text-5" id="text-5-1-2-2">
<p>
Listar directorio actual
</p>
</div>
</div>
<div id="outline-container-sec-5-1-2-3" class="outline-5">
<h5 id="sec-5-1-2-3"><code>ls -a</code></h5>
<div class="outline-text-5" id="text-5-1-2-3">
<p>
Listar directorio actual incluyendo archivos ocultos (comienzan con
<code>.</code>)
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-5-2" class="outline-3">
<h3 id="sec-5-2">Cambiando permisos y atributos</h3>
<div class="outline-text-3" id="text-5-2">
<pre class="example">
r = read        4
w = write       2
x = execute     1

propietario   7 = rwx lectura, escritura y ejecución
grupo         5 = rx- lectura y ejecución
todos         0 = --- ningún permiso
</pre>

<p>
Es necesario ser el propietario del archivo/directorio (o <i>root</i>)
para realizar el cambio de <code>usuario</code> o <code>grupo</code>.
</p>
</div>

<div id="outline-container-sec-5-2-1" class="outline-4">
<h4 id="sec-5-2-1"><code>chmod 750 archivo</code></h4>
<div class="outline-text-4" id="text-5-2-1">
<p>
Listamos los permisos del archivo <code>~/.bash_history</code>
</p>

<div class="org-src-container">

<pre class="src src-sh">ls -l ~/.bash_history
</pre>
</div>

<pre class="example">
-rwxr-x--- 1 osiris osiris 326316 feb 10 21:55 /home/osiris/.bash_history
</pre>

<p>
Cambiamos el permiso a <code>750</code> y volvemos a listar:
</p>

<div class="org-src-container">

<pre class="src src-sh">chmod 750 ~/.bash_history
ls -l ~/.bash_history
</pre>
</div>

<pre class="example">
-rwxr-x--- 1 osiris osiris 326316 feb 10 21:55 /home/osiris/.bash_history
</pre>

<p>
Finalmente cambiamos el permiso a <code>600</code> y volvemos a listar:
</p>

<div class="org-src-container">

<pre class="src src-sh">chmod 600 ~/.bash_history
ls -l ~/.bash_history
</pre>
</div>

<pre class="example">
-rw------- 1 osiris osiris 326316 feb 10 21:55 /home/osiris/.bash_history
</pre>
</div>
</div>
<div id="outline-container-sec-5-2-2" class="outline-4">
<h4 id="sec-5-2-2"><code>chgrp grupo archivo</code></h4>
<div class="outline-text-4" id="text-5-2-2">
<p>
Establece el grupo al archivo
</p>
</div>
</div>
<div id="outline-container-sec-5-2-3" class="outline-4">
<h4 id="sec-5-2-3"><code>chown usuario archivo</code></h4>
<div class="outline-text-4" id="text-5-2-3">
<p>
Establece el usuario como propietario del archivo
</p>
</div>
</div>
<div id="outline-container-sec-5-2-4" class="outline-4">
<h4 id="sec-5-2-4"><code>chown usuario archivo</code></h4>
<div class="outline-text-4" id="text-5-2-4">
<p>
Establece el usuario como propietario del directorio y todo su contenido recursivamente.
</p>
</div>
</div>
</div>
<div id="outline-container-sec-5-3" class="outline-3">
<h3 id="sec-5-3">Moviendo, renombrando y copiando archivos:o</h3>
<div class="outline-text-3" id="text-5-3">
<p>
Copiamos el archivo <code>~/.bash_history</code> a <code>~/.bash_history.bak</code> y
verificamos que sea igual:
</p>

<div class="org-src-container">

<pre class="src src-sh">ls -lh ~/.bash_history
cp ~/.bash_history ~/.bash_history.bak
ls -lh ~/.bash_history.bak
md5sum ~/.bash_history ~/.bash_history.bak
</pre>
</div>

<pre class="example">
-rw------- 1 osiris osiris 310K feb 11 11:07 /home/osiris/.bash_history
-rw------- 1 osiris osiris 310K feb 11 11:07 /home/osiris/.bash_history
7b862a967fc7096882583f9a6f662230  /home/osiris/.bash_history
7b862a967fc7096882583f9a6f662230  /home/osiris/.bash_history.bak
</pre>

<p>
#+END_SRC
</p>

<p>
Movemos el archivo <code>~/.bash_history.bak</code> a <code>~/historial.bak</code>:
</p>

<div class="org-src-container">

<pre class="src src-sh">mv -vi ~/.bash_history.bak ~/historial.bak
ls -l ~/.bash_history ~/historial.bak
</pre>
</div>

<pre class="example">
«/home/osiris/.bash_history.bak» -&gt; «/home/osiris/historial.bak»
-rw------- 1 osiris osiris   316801 feb 11 11:07 /home/osiris/.bash_history
-rw------- 1 osiris www-data 316801 feb 11 11:13 /home/osiris/historial.bak
</pre>


<p>
Renombramos el archivo <code>~/historial.bak</code> a <code>~/historial.log</code>
</p>

<div class="org-src-container">

<pre class="src src-sh">mv -vi ~/historial.bak ~/historial.log
ls -l ~/historial.log
</pre>
</div>

<pre class="example">
«/home/osiris/historial.bak» -&gt; «/home/osiris/historial.log»
-rw------- 1 osiris www-data 316801 feb 11 11:13 /home/osiris/historial.log
</pre>
</div>
</div>
<div id="outline-container-sec-5-4" class="outline-3">
<h3 id="sec-5-4">Ver y editar arhivos:</h3>
<div class="outline-text-3" id="text-5-4">
</div><div id="outline-container-sec-5-4-1" class="outline-4">
<h4 id="sec-5-4-1"><code>cat</code></h4>
<div class="outline-text-4" id="text-5-4-1">
<div class="org-src-container">

<pre class="src src-sh">cat /etc/issue
</pre>
</div>

<pre class="example">
Debian GNU/Linux 7.0 \n \l
</pre>
</div>
</div>
<div id="outline-container-sec-5-4-2" class="outline-4">
<h4 id="sec-5-4-2"><code>head</code></h4>
<div class="outline-text-4" id="text-5-4-2">
<div class="org-src-container">

<pre class="src src-sh">head /proc/meminfo | head
</pre>
</div>

<pre class="example">
MemTotal:        2062464 kB
MemFree:          872100 kB
Buffers:           56052 kB
Cached:           642468 kB
SwapCached:        10928 kB
Active:           520204 kB
Inactive:         570096 kB
Active(anon):     366124 kB
Inactive(anon):   211844 kB
Active(file):     154080 kB
</pre>
</div>
</div>
<div id="outline-container-sec-5-4-3" class="outline-4">
<h4 id="sec-5-4-3"><code>head -2</code></h4>
<div class="outline-text-4" id="text-5-4-3">
<div class="org-src-container">

<pre class="src src-sh">head /proc/meminfo | head -2
</pre>
</div>

<pre class="example">
MemTotal:        2062464 kB
MemFree:          871860 kB
</pre>
</div>
</div>
<div id="outline-container-sec-5-4-4" class="outline-4">
<h4 id="sec-5-4-4"><code>tail</code></h4>
<div class="outline-text-4" id="text-5-4-4">
<div class="org-src-container">

<pre class="src src-sh">tail /etc/passwd
</pre>
</div>

<pre class="example">
hplip:x:106:7:HPLIP system user,,,:/var/run/hplip:/bin/false
pulse:x:107:114:PulseAudio daemon,,,:/var/run/pulse:/bin/false
saned:x:108:118::/home/saned:/bin/false
Debian-gdm:x:109:119:Gnome Display Manager:/var/lib/gdm3:/bin/false
alumno:x:1001:1000:alumno,,,:/home/alumno:/bin/bash
osiris:x:2222:33:OSiRiS,,,:/home/osiris:/bin/bash
sshd:x:110:65534::/var/run/sshd:/usr/sbin/nologin
postfix:x:111:120::/var/spool/postfix:/bin/false
rodrigo:x:1002:1001:Rodrigo Fernandez,,,:/mnt/data/musica:/bin/bash
davfs2:x:112:122::/var/cache/davfs2:/bin/false
</pre>

<div class="org-src-container">

<pre class="src src-sh">tail -2 /etc/passwd
</pre>
</div>

<pre class="example">
rodrigo:x:1002:1001:Rodrigo Fernandez,,,:/mnt/data/musica:/bin/bash
davfs2:x:112:122::/var/cache/davfs2:/bin/false
</pre>
</div>
</div>
<div id="outline-container-sec-5-4-5" class="outline-4">
<h4 id="sec-5-4-5"><code>sed</code></h4>
<div class="outline-text-4" id="text-5-4-5">
<div class="org-src-container">

<pre class="src src-sh">cat /etc/issue
sed s/<span style="color: #ad7fa8; font-style: italic;">"7.0"</span>/<span style="color: #ad7fa8; font-style: italic;">"8.0"</span>/g /etc/issue
cat /etc/issue
</pre>
</div>

<pre class="example">
Debian GNU/Linux 7.0 \n \l

Debian GNU/Linux 8.0 \n \l

Debian GNU/Linux 7.0 \n \l
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-5-5" class="outline-3">
<h3 id="sec-5-5">Expresiones regulares</h3>
<div class="outline-text-3" id="text-5-5">
<p>
Se utilizan para definir patrones para la búsqueda y filtrado:
</p>
</div>

<div id="outline-container-sec-5-5-1" class="outline-4">
<h4 id="sec-5-5-1"><code>[a-z]</code> Minúsculas</h4>
<div class="outline-text-4" id="text-5-5-1">
<p>
Rango de la <b>a</b> a la <b>z</b>
</p>
</div>
</div>
<div id="outline-container-sec-5-5-2" class="outline-4">
<h4 id="sec-5-5-2"><code>[A-Z]</code> Mayúsculas</h4>
<div class="outline-text-4" id="text-5-5-2">
<p>
Rango de la <b>A</b> a la <b>Z</b>
</p>
</div>
</div>
<div id="outline-container-sec-5-5-3" class="outline-4">
<h4 id="sec-5-5-3"><code>[0-9]</code> Números</h4>
<div class="outline-text-4" id="text-5-5-3">
<p>
Rango de 0 a 9
</p>
</div>
</div>
<div id="outline-container-sec-5-5-4" class="outline-4">
<h4 id="sec-5-5-4"><code>[^..]</code> Patrón distinto</h4>
<div class="outline-text-4" id="text-5-5-4">
<p>
Negación
</p>
</div>
</div>
<div id="outline-container-sec-5-5-5" class="outline-4">
<h4 id="sec-5-5-5"><code>^</code> comienzo de línea</h4>
</div>


<div id="outline-container-sec-5-5-6" class="outline-4">
<h4 id="sec-5-5-6"><code>$</code> fin de línea</h4>
</div>

<div id="outline-container-sec-5-5-7" class="outline-4">
<h4 id="sec-5-5-7"><code>.</code> cualquier carácter</h4>
</div>

<div id="outline-container-sec-5-5-8" class="outline-4">
<h4 id="sec-5-5-8"><code>?</code> cero o una aparición</h4>
</div>

<div id="outline-container-sec-5-5-9" class="outline-4">
<h4 id="sec-5-5-9"><code>*</code> ninguna o muchas repeticiones</h4>
</div>

<div id="outline-container-sec-5-5-10" class="outline-4">
<h4 id="sec-5-5-10"><code>+</code> una o más repeticiones</h4>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Osiris Alejandro Gómez (<a href="mailto:osiris@gcoop.coop">osiris@gcoop.coop</a>)</p>
<p class="date">Date: 2014-01-20</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 23.4.1 (<a href="http://orgmode.org">Org</a> mode 8.2.5h)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
